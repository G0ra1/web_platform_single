import{d as $,N as A,a as E,b as z,c as I,e as B,f as M,g as L,h as P,i as N,j as R,l as y,m as F,o as q,_ as T,b1 as U,p as o,q as D,s as S,w as t,t as V,y as e,v as b,D as G,E as x,G as H,H as O,I as j,J,K,L as Q,M as W,O as X,u as Y,V as Z,P as w,R as ee,Q as ne,z as te,S as le,F as ae,T as oe}from"./index.b9dd0157.js";import{c as se,m as ie,q as ue,d as de}from"./index.a8f087d3.js";import{N as re}from"./index.5b379d15.js";const pe=$({components:{NModal:A,NInput:E,NForm:z,NFormItem:I,NGrid:B,NGridItem:M,NTreeSelect:L,NSelect:P,NButton:N,NSpin:R},props:{},setup(n,l){const m=y(!1),f=y({}),p=y(!1),v=y(null),s=F([{label:"root",key:"0",id:"0",children:[]}]),i=(r={})=>{m.value=!0,p.value=!0,ue().then(c=>{c.map(_=>(_.level=1,_));const u=_=>{_.forEach(a=>{a.kids.length>0?(a.label=a.procdefTypeName,a.key=a.id,a.disabled=a.level!=1,a.children=a.kids,u(a.kids)):(a.disabled=a.level!=1,a.key=a.id,a.label=a.procdefTypeName)})};u(c),s[0].label="root",s[0].children=c,f.value={isEnable:1,...U.exports.cloneDeep(r)},p.value=!1})};return q(async()=>{}),{sonFn:i,showModal:m,model:f,isLoading:p,formRef:v,parentList:s,status:F([{label:"\u5426",value:0},{label:"\u662F",value:1}]),rules:{procdefTypeName:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D41\u7A0B\u5206\u7C7B\u540D\u79F0",trigger:["input","blur"]}]},onPositiveClick(){const r=f.value.id?ie:se;v.value.validate(c=>{c||(p.value=!0,r(f.value).then(u=>{u&&(l.emit("update:callback"),m.value=!1)}).finally(u=>{p.value=!1}))})},onNegativeClick(){m.value=!1}}},methods:{}}),ce={style:{padding:"0 5px 5px 0"}};function me(n,l,m,f,p,v){const s=o("n-tree-select"),i=o("n-form-item"),r=o("n-grid-item"),c=o("n-input"),u=o("n-select"),_=o("n-grid"),a=o("n-form"),h=o("n-spin"),g=o("n-button"),k=o("n-modal");return D(),S(k,{show:n.showModal,"onUpdate:show":l[4]||(l[4]=d=>n.showModal=d),"mask-closable":!1,preset:"dialog",title:"\u6D41\u7A0B\u5206\u7C7B\u7EF4\u62A4",content:"\u4F60\u786E\u8BA4","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",style:{width:"500px"}},{action:t(()=>[V("div",ce,[e(g,{size:"small",type:"default",style:{"margin-right":"5px"},onClick:l[3]||(l[3]=d=>n.showModal=!1)},{default:t(()=>[b("\u53D6\u6D88")]),_:1}),e(g,{size:"small",type:"info",onClick:n.onPositiveClick},{default:t(()=>[b("\u4FDD\u5B58")]),_:1},8,["onClick"])])]),default:t(()=>[e(h,{show:n.isLoading},{default:t(()=>[e(a,{model:n.model,ref:"formRef",rules:n.rules},{default:t(()=>[e(_,{"x-gap":"8",cols:1},{default:t(()=>[e(r,null,{default:t(()=>[e(i,{label:"\u7236\u7EA7\u8282\u70B9",path:"parentId"},{default:t(()=>[e(s,{options:n.parentList,size:"small","default-value":n.model.parentId,placeholder:"\u8BF7\u9009\u62E9",value:n.model.parentId,"onUpdate:value":l[0]||(l[0]=d=>n.model.parentId=d),filterable:"",clearable:""},null,8,["options","default-value","value"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(i,{label:"\u6D41\u7A0B\u5206\u7C7B\u540D\u79F0",path:"procdefTypeName"},{default:t(()=>[e(c,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:n.model.procdefTypeName,"onUpdate:value":l[1]||(l[1]=d=>n.model.procdefTypeName=d)},null,8,["value"])]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(i,{label:"\u662F\u5426\u542F\u7528",path:"isEnable"},{default:t(()=>[e(u,{value:n.model.isEnable,"onUpdate:value":l[2]||(l[2]=d=>n.model.isEnable=d),size:"small",placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u542F\u7528",options:n.status},null,8,["value","options"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["show"])]),_:1},8,["show"])}const fe=T(pe,[["render",me]]),_e=$({components:{NLayout:G,NLayoutHeader:x,NLayoutContent:H,NButton:N,NSpace:O,NwIcon:j,NTag:J,NInput:E,NInputGroup:K,NDrawer:Q,NDrawerContent:W,NwFunctionAccess:re,NwFunctionPredefine:X,EmpAdd:fe},setup(){const n=y(),l=Y(),{bind:m,gridRef:f,filterData:p,query:v,reset:s}=new Z.VxeGridPaging({columns:[{field:"procdefTypeName",title:"\u6D41\u7A0B\u5206\u7C7B\u540D\u79F0",treeNode:!0},{field:"isEnable",title:"\u662F\u5426\u542F\u7528",slots:{default:({row:i})=>[i.isEnable==1?"\u542F\u7528":"\u7981\u7528"]}},{title:"\u64CD\u4F5C",showHeaderOverflow:!0,width:"140px",slots:{default:({row:i})=>[w(N,{type:"warning",size:"tiny",style:"margin-right: 5px;",onClick:()=>{n.value.sonFn(i)}},"\u7F16\u8F91"),w(N,{size:"tiny",type:"error",onClick:()=>{l.error({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u53D6\u6D88",maskClosable:!1,onMaskClick:()=>{},onPositiveClick:()=>{de(i.id).then(r=>{s()})}})}},{default:()=>"\u5220\u9664"})]}}]},new ee("/wf/wfprocdeftype/list","post"));return ne().then(()=>{s({})}),{empAdd:n,bind:m,gridRef:f,filterData:p,query:v,reset:s,handleCreate(){n.value.sonFn()},refresh(){s({})}}}});function ve(n,l,m,f,p,v){const s=o("n-button"),i=o("n-space"),r=o("n-input"),c=o("n-input-group"),u=o("nw-icon"),_=o("n-layout-header"),a=o("vxe-grid"),h=o("n-layout-content"),g=o("n-layout"),k=o("EmpAdd");return D(),te(ae,null,[e(g,{class:"nw-layout-full"},{default:t(()=>[e(_,{class:"nw-layout-header"},{default:t(()=>[e(i,{size:5,style:{padding:"0 5px"}},{default:t(()=>[e(s,{onClick:n.handleCreate,size:"small",type:"primary"},{default:t(()=>[b("\u65B0\u5EFA\u6D41\u7A0B\u5206\u7C7B")]),_:1},8,["onClick"])]),_:1}),e(i,{size:5,style:{padding:"0 5px"}},{default:t(()=>[e(c,null,{default:t(()=>[e(r,{value:n.filterData.formNameCh||"","onUpdate:value":l[0]||(l[0]=d=>n.filterData.formNameCh=d),placeholder:"\u8F93\u5165\u67E5\u8BE2\u6587\u672C",style:{width:"150px"}},null,8,["value"]),e(s,{type:"primary",onClick:l[1]||(l[1]=d=>n.query())},{default:t(()=>[b(" \u641C\u7D22 ")]),_:1})]),_:1}),e(s,{title:"\u91CD\u7F6E",type:"warning",onClick:l[2]||(l[2]=d=>n.reset())},{icon:t(()=>[e(u,{name:"icon-n-y-refresh"})]),_:1}),e(s,{title:"\u5BFC\u5165"},{icon:t(()=>[e(u,{name:"icon-n-y-import"})]),_:1}),e(s,{title:"\u5BFC\u51FA"},{icon:t(()=>[e(u,{name:"icon-n-y-export"})]),_:1}),e(s,{title:"\u6253\u5370",onClick:l[3]||(l[3]=d=>{var C;return(C=n.gridRef)==null?void 0:C.print()})},{icon:t(()=>[e(u,{name:"icon-n-y-print"})]),_:1}),e(s,null,{icon:t(()=>[e(u,{name:"icon-n-y-column"})]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(a,le(n.bind,{ref:"gridRef"}),null,16)]),_:1})]),_:1}),e(k,{ref:"empAdd","onUpdate:callback":n.refresh},null,8,["onUpdate:callback"])],64)}const ye=T(_e,[["render",ve],["__scopeId","data-v-28ec919d"]]);oe(ye).mount("#app");
