var Ee=Object.defineProperty;var Ie=(e,n,r)=>n in e?Ee(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var te=(e,n,r)=>(Ie(e,typeof n!="symbol"?n+"":n,r),r);import{d as g,a as t,o as d,g as w,b as o,r as _,c as F,w as p,h as s,n as U,f as D,F as j,U as ue,t as T,k,_ as K,$ as Y,u as Be,e as R,p as Se}from"./runtime-dom.esm-bundler.bf4f36cb.js";import{aq as E,ar as I,as as B,f as y,N as x,i as v,e as C,aw as S,ax as N,ay as A,_ as $,bK as V,au as L,l as xe,aJ as H,aY as se,aA as Z,aZ as de,b2 as _e,a as ae,b as ce,at as me,am as fe,C as J,r as Me,aB as ze,an as he,m as De}from"./index.0e7eb3bd.js";import{N as Q,a as Te}from"./Menu.f72d5488.js";import{N as M}from"./Scrollbar.e2b8029c.js";import{N as q}from"./InputGroupLabel.f8867056.js";import{f as Ue}from"./index.eef2b9ce.js";import{N as Le}from"./Dropdown.c5536ab3.js";import{N as re}from"./text.c79655f7.js";import{N as X,a as ee}from"./Tabs.dac43389.js";import{N as Oe}from"./index.cb0cc583.js";import{i as Pe}from"./style.24c82a16.js";import"./Add.f7b12907.js";const je=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NDrawer:N,NDrawerContent:A},setup(){return{}}}),Ve={class:"wrapper-logo"};function Re(e,n,r,l,u,m){const a=t("nw-icon");return d(),w("div",Ve,[o(a,{size:38,name:"icon-y-cbox",color:"white"})])}const He=$(je,[["render",Re]]),ve=_([]),P=_(""),qe=()=>{window.addEventListener("hashchange",e=>{ge()})},ge=()=>{const[e,n]=window.location.hash.substring(1).split("/");e==="app"?P.value=n:e==="portalframe"&&(P.value="portalframe")},Ge=async function(){await V.get("bizMenuInfo").then(e=>{ve.value=e.filter(n=>n.appType==="service")})},We=e=>{e.menus.length>0?window.location.hash=`#app/${e.appCode}/${e.menus[0].key}`:window.location.hash=`#app/${e.appCode}`},Je=g({props:{isActive:{type:Boolean,default:!1}},components:{NMenu:Q,NPopover:L,NwIcon:v},setup(e){const n=_([]);return V.get("portalInfo").then(r=>{n.value=xe.exports.get(r,"menus",[])}),{props:e,menuOptions:n,handleMenu(r){window.location.hash=`#portalframe/${r}`}}}});function Ke(e,n,r,l,u,m){const a=t("nw-icon"),i=t("n-menu"),h=t("n-popover");return d(),F(h,{overlap:!1,placement:"right-start",trigger:"hover","show-arrow":!1},{trigger:p(()=>[s("div",{class:U({"wrapper-menu-item":!0,action:e.props.isActive})},[o(a,{name:"icon-n-n-home",size:32}),D(" \u95E8\u6237 ")],2)]),default:p(()=>[o(i,{options:e.menuOptions,value:"","onUpdate:value":e.handleMenu},null,8,["options","onUpdate:value"])]),_:1})}const Ye=$(Je,[["render",Ke]]),Ze=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NDrawer:N,NDrawerContent:A,NPopover:L,NScrollbar:M,NwHome:Ye},setup(){return ge(),window.onhashchange=function(e){e.newURL.indexOf("frame/date-manage")>0&&(P.value="date")},{ActiveApp:P,AppItems:ve,handleHome(){P.value="home",window.location.hash="#frame/portal"},handleApp(e){We(e)},handleDate(){P.value="date",window.location.hash="#frame/date-manage"},handleTask(){P.value="task",window.location.hash="#frame/task"},handleStudy(){window.open("/web-study/pages/study-students.html#/homePage","_blank","top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no")}}}}),Qe={class:"wrapper-menu"},Xe={class:"wrapper-menu app-menu"},en={class:U({"app-menu-btn":!0})},nn=["title","onClick"];function tn(e,n,r,l,u,m){const a=t("nw-home"),i=t("nw-icon"),h=t("n-scrollbar");return d(),w(j,null,[s("div",Qe,[o(a,{isActive:e.ActiveApp==="portalframe"},null,8,["isActive"]),s("div",{class:U({"wrapper-menu-item":!0,action:e.ActiveApp==="task"}),onClick:n[0]||(n[0]=(...c)=>e.handleTask&&e.handleTask(...c))},[o(i,{name:"icon-w_biji-",size:26}),D(" \u4EFB\u52A1 ")],2),s("div",{class:U({"wrapper-menu-item":!0,action:e.ActiveApp==="date"}),onClick:n[1]||(n[1]=(...c)=>e.handleDate&&e.handleDate(...c))},[o(i,{name:"icon-w_calendar",size:26}),D(" \u65E5\u7A0B ")],2),s("div",{class:U({"wrapper-menu-item":!0}),onClick:n[2]||(n[2]=(...c)=>e.handleStudy&&e.handleStudy(...c))},[o(i,{name:"icon-w_calendar",size:26}),D(" \u5B66\u4E60\u7CFB\u7EDF ")])]),s("div",Xe,[s("div",en,[o(i,{name:"icon-n-n-up",size:18,color:"#ccc"})]),o(h,null,{default:p(()=>[(d(!0),w(j,null,ue(e.AppItems,c=>(d(),w("div",{key:c.appCode,class:U({"wrapper-menu-item":!0,action:e.ActiveApp===c.appCode}),title:c.appName,onClick:f=>e.handleApp(c)},[o(i,{name:c.icon,size:26},null,8,["name"]),D(" "+T(c.appName.substring(0,4)),1)],10,nn))),128))]),_:1})])],64)}const on=$(Ze,[["render",tn]]),sn=[{label:"\u5E94\u7528\u8D44\u6E90\u7BA1\u7406",key:"app"},{label:"\u4E3B\u6570\u636E\u7BA1\u7406",key:"mdm"},{label:"\u5DE5\u4F5C\u6D41\u7BA1\u7406",key:"wf"}],an=g({components:{NMenu:Q,NPopover:L,NwIcon:v},setup(){return{collapsed:_(!0),menuOptions:sn,renderMenuLabel(e){return"href"in e?k("a",{href:e.href,target:"_blank"},e.label):e.label},renderMenuIcon(e){return e.key==="sheep-man"?!0:e.key==="food"?null:k(v,{name:"icon-n-n-sys"})},expandIcon(){return k("span",null)},handleMenu(e){window.location.hash=`#app/${e}`}}}});function cn(e,n,r,l,u,m){const a=t("nw-icon"),i=t("n-menu"),h=t("n-popover");return d(),F(h,{overlap:!1,placement:"right-start",trigger:"hover","show-arrow":!1},{trigger:p(()=>[s("div",{class:U({"wrapper-menu-item-last":!0,"wrapper-menu-item":!0}),onClick:n[0]||(n[0]=()=>{})},[o(a,{name:"icon-n-n-sys",size:32})])]),default:p(()=>[o(i,{options:e.menuOptions,value:"","onUpdate:value":e.handleMenu},null,8,["options","onUpdate:value"])]),_:1})}const rn=$(an,[["render",cn]]);qe();const ln=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NDrawer:N,NDrawerContent:A,NwLogo:He,NwMenu:on,NwSystem:rn},setup(){return Ge(),{}}});function pn(e,n,r,l,u,m){const a=t("nw-logo"),i=t("nw-menu"),h=t("nw-system");return d(),w(j,null,[o(a),o(i),o(h)],64)}const un=$(ln,[["render",pn]]);_("home");const $e=_(!1),dn=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NDivider:H,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NInputGroupLabel:q,NDrawer:N,NScrollbar:M,NDrawerContent:A},setup(e){return{AppInAction:$e}}});const ne=e=>(K("data-v-a401f636"),e=e(),Y(),e),_n={class:"box-header"},mn=ne(()=>s("div",{class:"title"},[s("span",{style:{"margin-right":"20px"}},"\u5E94\u7528\u7CFB\u7EDF")],-1)),fn={class:"extra"},hn={class:"box-content"},vn={class:"app-search"},gn={class:"app-groups"},$n={class:"app-group"},wn=ne(()=>s("div",{class:"app-group-title"}," \u9884\u63A2\u8BC4\u4EF7 ",-1)),yn={class:"app-card"},bn=ne(()=>s("div",{class:"text"}," \u8BC4\u4EF7\u7BA1\u7406\u7CFB\u7EDF ",-1)),kn={class:"app-card"},Cn=ne(()=>s("div",{class:"text"}," \u8BC4\u4EF7\u7BA1\u7406\u7CFB\u7EDF ",-1));function Nn(e,n,r,l,u,m){const a=t("nw-icon"),i=t("n-input-group-label"),h=t("n-input"),c=t("n-input-group"),f=t("n-scrollbar");return d(),w("div",{class:U({box:!0,action:e.AppInAction})},[s("div",_n,[mn,s("div",fn,[o(a,{name:"icon-n-y-close",color:"#5F6B7C",onClick:n[0]||(n[0]=b=>e.AppInAction=!1)})])]),s("div",hn,[s("div",vn,[o(c,{style:{width:"300px"}},{default:p(()=>[o(i,null,{default:p(()=>[D(" \u641C\u7D22\u5E94\u7528 ")]),_:1}),o(h,{placeholder:"\u8F93\u5165\u67E5\u8BE2\u5173\u952E\u5B57"})]),_:1})]),s("div",gn,[o(f,{class:"app-groups-scroll"},{default:p(()=>[s("div",$n,[wn,s("div",yn,[o(a,{name:"icon-n-y-3box",size:20,color:"#5F6B7C",onClick:n[1]||(n[1]=b=>e.AppInAction=!1)}),bn]),s("div",kn,[o(a,{name:"icon-n-y-3box",size:20,color:"#5F6B7C",onClick:n[2]||(n[2]=b=>e.AppInAction=!1)}),Cn])])]),_:1})])])],2)}const An=$(dn,[["render",Nn],["__scopeId","data-v-a401f636"]]),Fn=g({components:{NConfigProvider:se,NDrawer:N,NDrawerContent:A,NLayout:E,NLayoutHeader:I,NLayoutSider:Z,NLayoutContent:B,NLayoutFooter:de,NThemeEditor:_e,NButton:y,NInputGroup:S,NInput:C,NForm:ae,NFormItem:ce,NPopconfirm:me,AppIn:An},setup(){return{}}}),En={class:"back"};function In(e,n,r,l,u,m){const a=t("app-in");return d(),w("div",En,[o(a)])}const Bn=$(Fn,[["render",In]]),Sn=g({components:{NDrawer:N,NDrawerContent:A,NForm:ae,NFormItem:ce,NInput:C},setup(e,n){const r=_(!1),l=_({});return{active:r,show:()=>{r.value=!0},model:l}}});function xn(e,n,r,l,u,m){const a=t("n-input"),i=t("n-form-item"),h=t("n-form"),c=t("n-drawer-content"),f=t("n-drawer");return d(),F(f,{show:e.active,"onUpdate:show":n[1]||(n[1]=b=>e.active=b),placement:e.placement},{default:p(()=>[o(c,{title:"\u6536\u85CF\u5939\u7BA1\u7406"},{default:p(()=>[o(h,{ref:"formRef",model:e.model,rules:e.rules,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:e.size,style:{maxWidth:"640px"}},{default:p(()=>[o(i,{label:"Input",path:"inputValue"},{default:p(()=>[o(a,{value:e.model.inputValue,"onUpdate:value":n[0]||(n[0]=b=>e.model.inputValue=b),placeholder:"Input"},null,8,["value"])]),_:1})]),_:1},8,["model","rules","size"])]),_:1})]),_:1},8,["show","placement"])}const Mn=$(Sn,[["render",xn]]),zn=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NDivider:H,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NInputGroupLabel:q,NDrawer:N,NScrollbar:M,NDrawerContent:A,NPopover:L,NSpin:fe,NMenu:Q,FavoritesManage:Mn},setup(e){const n=_(!1),r=_(!1),l=_(null),u=_([{label:"",key:"dance-dance-dance",icon:()=>k(v,{size:26,name:"icon-y-shoucangjia"}),children:[]}]),m={label:()=>k(y,{type:"primary",onClick:a},"\u6574\u7406\u6536\u85CF\u5939"),key:"clearUpFavorite"},a=()=>{var c;(c=l.value)==null||c.show()},i=(c,f)=>{f&&f.webUrl&&window.open(f.webUrl)},h=()=>{r.value=!0,Ue().then(c=>{console.log("-=res-=",c),c.forEach(f=>{f.label=f.typeName,f.key=f.id,f.icon=()=>k(v,{size:26,name:"icon-y-wenjianjia"}),f.portalFavoritesContentVos.length>0&&(f.portalFavoritesContentVos.forEach(b=>{b.label=b.articleName,b.key=b.id,b.icon=()=>k(v,{size:14,name:"icon-y-lianjie"})}),f.children=f.portalFavoritesContentVos)}),u.value[0].children=[m,...c],n.value=!0,console.log(u.value,"menuOptions.value")}).finally(()=>{r.value=!1})};return Be(()=>{h()}),{visible:n,isLoading:r,menuOptions:u,clearUpFavorite:a,init:h,updateMenu:i,favoritesManageRef:l}}});function Dn(e,n,r,l,u,m){const a=t("n-menu"),i=t("favorites-manage");return d(),w(j,null,[e.visible?(d(),F(a,{key:0,class:"shoucangjia",mode:"horizontal","on-update:value":e.updateMenu,options:e.menuOptions,style:{width:"26px"}},null,8,["on-update:value","options"])):R("",!0),o(i,{ref:"favoritesManageRef"},null,512)],64)}const Tn=$(zn,[["render",Dn]]),Un=()=>new Promise((e,n)=>{J.remove("token"),J.remove("tokenType"),V.clear(),e(1)}),Ln=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NDivider:H,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NInputGroupLabel:q,NDrawer:N,NScrollbar:M,NDrawerContent:A,NConfigProvider:se,NDropdown:Le},setup(e){const n=_({});V.get("userInfo").then(u=>{n.value=u});const r=[{key:"header",type:"render",render:()=>k("div",{style:"display: flex; align-items: center; padding: 8px 12px ;"},[k(v,{name:"icon-y-blueuser",size:24,style:"margin-right: 12px;"}),k("div",null,[k("div",null,[k(re,{depth:2},{default:()=>n.value.userNameCh})]),k("div",{style:"font-size: 12px;"},[k(re,{depth:3},{default:()=>n.value.email})])])])},{label:"\u4E2A\u4EBA\u4E2D\u5FC3",key:"setting"},{label:"\u9000\u51FA\u767B\u5F55",key:"logout"}],l=u=>{switch(u){case"logout":Un().then(()=>{window.location.href="/web-main/pages/login.html"});break;case"setting":window.location.href="/web-main/pages/setting.html";break}};return Se().then(()=>{}),{options:r,handleSelect:l,userInfo:n}}}),On=["src"];function Pn(e,n,r,l,u,m){const a=t("n-dropdown"),i=t("n-config-provider");return d(),F(i,{class:"setting",style:{"line-height":"5px"}},{default:p(()=>[o(a,{trigger:"hover",onSelect:e.handleSelect,options:e.options,placement:"bottom-end"},{default:p(()=>[s("img",{src:e.userInfo.photoFileId?`http://incloud.com/${e.userInfo.photoFileId}`:"../img/boy.png",style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,On)]),_:1},8,["onSelect","options"])]),_:1})}const jn=$(Ln,[["render",Pn]]),Vn=g({props:{title:{type:String,default:""},content:{type:String,default:""},time:{type:String,default:""},url:{type:String,default:""}},components:{NButton:y,NPopover:L,NTabs:X,NTabPane:ee,NwIcon:v,NScrollbar:M},setup(e){return{props:e,handle(){window.open(e.url,"_blank","top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no")}}}});const Rn=e=>(K("data-v-b196dd9b"),e=e(),Y(),e),Hn={style:{padding:"10px 15px 0 10px"}},qn={class:"task-card todo"},Gn={class:"task-card-header"},Wn={class:"title"},Jn=Rn(()=>s("div",{class:"extra"},null,-1)),Kn={class:"task-card-content"},Yn={class:"task-card-footer"},Zn={class:"time"},Qn={class:"action"};function Xn(e,n,r,l,u,m){const a=t("n-button");return d(),w("div",Hn,[s("div",qn,[s("div",Gn,[s("div",Wn,T(e.props.title),1),Jn]),s("div",Kn,T(e.props.content),1),s("div",Yn,[s("div",Zn,T(e.props.time),1),s("div",Qn,[o(a,{size:"tiny",onClick:e.handle},{default:p(()=>[D(" \u8FDB\u5165\u529E\u7406 ")]),_:1},8,["onClick"])])])])])}const et=$(Vn,[["render",Xn],["__scopeId","data-v-b196dd9b"]]),nt=g({props:{title:{type:String,default:""},content:{type:String,default:""},time:{type:String,default:""},url:{type:String,default:""}},components:{NButton:y,NPopover:L,NTabs:X,NTabPane:ee,NwIcon:v,NScrollbar:M},setup(e){return{props:e,handle(){window.open(e.url,"_blank","top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no")}}}});const tt=e=>(K("data-v-d76ef187"),e=e(),Y(),e),ot={style:{padding:"10px 15px 0 10px"}},st={class:"task-card todo"},at={class:"task-card-header"},ct={class:"title"},rt=tt(()=>s("div",{class:"extra"},null,-1)),it={class:"task-card-content"},lt={class:"task-card-footer"},pt={class:"time"},ut={class:"action"};function dt(e,n,r,l,u,m){const a=t("n-button");return d(),w("div",ot,[s("div",st,[s("div",at,[s("div",ct,T(e.props.title),1),rt]),s("div",it,T(e.props.content),1),s("div",lt,[s("div",pt,T(e.props.time),1),s("div",ut,[o(a,{size:"tiny",onClick:e.handle},{default:p(()=>[D(" \u67E5\u770B\u5DF2\u529E ")]),_:1},8,["onClick"])])])])])}const _t=$(nt,[["render",dt],["__scopeId","data-v-d76ef187"]]);function mt(e){return Me({url:"/main/msgPage",method:"post",data:{page:{current:1,size:999},...e}})}_([]);const oe=_([]),we=_(0),ie=_(!1),le=()=>{ie.value=!0,mt({isRead:0}).then(e=>{console.log("-=res-=",e),we.value=e.records.length,oe.value=e.records.filter(n=>n.msgSource==="WF"),console.log("-=TaskData.value-=",oe.value)}).finally(()=>{ie.value=!1})},ft=g({components:{NButton:y,NPopover:L,NTabs:X,NTabPane:ee,NwIcon:v,NScrollbar:M,TodoCard:et,DoneCard:_t},setup(e){const n=_(!1);return{TaskData:oe,visible:n,theme:{padding:"5px"},handleShow(){n.value=!0}}}});const ht=e=>(K("data-v-210b9f77"),e=e(),Y(),e),vt=ht(()=>s("div",{style:{height:"10px"}},null,-1));function gt(e,n,r,l,u,m){const a=t("todo-card"),i=t("done-card"),h=t("n-scrollbar");return d(),F(h,{style:{height:"100%"}},{default:p(()=>[(d(!0),w(j,null,ue(e.TaskData,c=>(d(),w(j,{key:c.id},[c.tmpCode==="todoTask"?(d(),F(a,{key:0,title:c.msgTitle,content:c.msgContent,time:c.updateTime,url:c.msgPcUrl},null,8,["title","content","time","url"])):c.tmpCode==="applyTask"?(d(),F(i,{key:1,title:c.msgTitle,content:c.msgContent,time:c.updateTime,url:c.msgPcUrl},null,8,["title","content","time","url"])):R("",!0)],64))),128)),vt]),_:1})}const $t=$(ft,[["render",gt],["__scopeId","data-v-210b9f77"]]),wt=g({components:{NButton:y,NPopover:L,NTabs:X,NTabPane:ee,NSpin:fe,NBadge:Te,NwIcon:v,Task:$t},setup(e){const n=_(!1);return le(),{Count:we,visible:n,theme:{padding:"0"},handleShow(){n.value=!0,le()}}}});const yt={style:{height:"100%"}};function bt(e,n,r,l,u,m){const a=t("nw-icon"),i=t("n-button"),h=t("n-badge"),c=t("task"),f=t("n-tab-pane"),b=t("n-tabs"),Ae=t("n-spin"),Fe=t("n-popover");return d(),F(Fe,{show:e.visible,themeOverrides:{padding:"0"},placement:"bottom",trigger:"click","onUpdate:show":e.handleShow},{trigger:p(()=>[o(h,{value:e.Count,max:99},{default:p(()=>[o(i,{title:"\u63D0\u9192",text:"",style:{display:"flex","align-items":"center"}},{default:p(()=>[o(a,{color:"#4C90F0",size:26,name:"icon-n-n-lingdang"})]),_:1})]),_:1},8,["value"])]),default:p(()=>[o(Ae,{class:"remind",show:!1},{default:p(()=>[o(b,{"tabs-padding":10,size:"small",type:"line",animated:"",themeOverrides:{panePaddingSmall:"0"},class:"remind-tabs","pane-class":"remind-tab-pane","pane-style":{height:"100%"}},{default:p(()=>[o(f,{name:"task",tab:"\u4EFB\u52A1"},{default:p(()=>[s("div",yt,[o(c)])]),_:1}),o(f,{name:"msg",tab:"\u6D88\u606F"},{default:p(()=>[D(" \u6D88\u606F ")]),_:1})]),_:1}),o(i,{text:"",style:{position:"absolute",right:"8px",top:"10px"},onClick:n[0]||(n[0]=so=>e.visible=!1)},{default:p(()=>[o(a,{color:"#888",size:12,name:"icon-n-y-close"})]),_:1})]),_:1})]),_:1},8,["show","onUpdate:show"])}const kt=$(wt,[["render",bt]]);class ye{constructor(n){te(this,"state",_(""));J.get("token"),J.get("tokenType")}}te(ye,"ws");const Ct=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NDivider:H,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NInputGroupLabel:q,NDrawer:N,NScrollbar:M,NDrawerContent:A},setup(e){const{state:n}=new ye(ze());return{state:n,handle(){}}}});const Nt={class:"realtime"},At={class:"state"};function Ft(e,n,r,l,u,m){const a=t("nw-icon"),i=t("n-button");return d(),w("div",Nt,[o(i,{title:"\u63D0\u9192",text:"",onClick:e.handle,style:{display:"flex","align-items":"center"}},{default:p(()=>[o(a,{color:"#4C90F0",size:26,name:"icon-n-y-xinhao"})]),_:1},8,["onClick"]),s("div",At,[R("",!0),R("",!0),o(a,{class:"state success",size:14,name:"icon-n-n-yes"})])])}const Et=$(Ct,[["render",Ft],["__scopeId","data-v-bdb76a40"]]),It=g({components:{NLayout:E,NLayoutHeader:I,NLayoutContent:B,NDivider:H,NButton:y,NSpace:x,NwIcon:v,NInput:C,NInputGroup:S,NInputGroupLabel:q,NDrawer:N,NScrollbar:M,NDrawerContent:A,Collection:Tn,Logout:jn,Remind:kt,RealTime:Et},setup(e){return{AppInAction:$e}}}),Bt=s("div",null,null,-1);function St(e,n,r,l,u,m){const a=t("collection"),i=t("real-time"),h=t("remind"),c=t("logout"),f=t("n-space");return d(),w(j,null,[Bt,o(f,{align:"center"},{default:p(()=>[o(a),o(i),o(h),o(c)]),_:1})],64)}const xt=$(It,[["render",St]]),be=_("app"),G=_(""),W=_(""),ke=_({}),Ce=_([]),pe=_({}),O=_(""),z=_({flag:!1,icon:"icon-y-empty",text:""}),Mt=()=>{window.addEventListener("hashchange",e=>{console.log("=======",window.location.hash),Ne()})},Ne=async function(){z.value.flag=!1,z.value.icon="icon-y-empty",z.value.text="";const[e,n,r]=window.location.hash.substring(1).split("/");if(!e){z.value.flag=!0,z.value.icon="icon-y-check",z.value.text="\u8BF7\u9009\u62E9\u5E94\u7528\u6A21\u5757";return}if(be.value=e,e==="portalframe")await V.get("portalInfo").then(l=>l?l.pages[n]?(O.value=l.pages[n],!0):(window.location.hash=`#portalframe/${Object.keys(l.pages)[0]}`,!1):!1);else if(e==="frame")n==="portalframe"?O.value="/web-old/html/portal/template-render.html?portalid=144774667764026982#/index":n==="date-manage"?O.value="/web-smm/pages/scheduleManagement.html":n==="task"&&(O.value="/web-wf/pages/workflow-table.html#/todo");else if(e==="app"&&(G.value!==n&&(G.value=n,await V.get("bizMenuInfo").then(u=>{if(!u)return!1;const m=u.find(a=>a.appCode===G.value);return m?(ke.value={appName:m.appName,appCode:m.appCode,defPage:""},Ce.value=m.menus||[],pe.value=m.pages||{},!0):!1})||(z.value.flag=!0,z.value.text="\u6CA1\u6709\u627E\u5230\u5E94\u7528\u4FE1\u606F")),W.value!==r)){W.value=r;const l=pe.value[W.value];l?O.value=l:O.value=""}console.log("=====\u83B7\u53D6\u83DC\u5355\u5B8C\u6210====")},zt=e=>{window.location.hash=`#app/${G.value}/${e}`},Dt=g({components:{NMenu:Q,NScrollbar:M},setup(){return{AppInfo:ke,MenuCode:W,MenuOptions:Ce,handleMenu(e){zt(e)}}}});const Tt={class:"app-menu"},Ut={class:"title"};function Lt(e,n,r,l,u,m){const a=t("n-menu"),i=t("n-scrollbar");return d(),w("div",Tt,[s("div",Ut,T(e.AppInfo.appName),1),o(i,{class:"content"},{default:p(()=>[o(a,{indent:8,options:e.MenuOptions,value:e.MenuCode,"onUpdate:value":e.handleMenu},null,8,["options","value","onUpdate:value"])]),_:1})])}const Ot=$(Dt,[["render",Lt]]),Pt=g({props:{icon:{type:String,default:"icon-y-empty"},text:{type:String,default:""}},components:{NLayout:E,NLayoutSider:Z,NLayoutHeader:I,NLayoutContent:B,NButton:y,NSpace:x,NwIcon:v,NTag:he,NInput:C,NInputGroup:S,NDrawer:N,NDrawerContent:A},setup(e){return{props:e}}});const jt={class:"error-content"},Vt={class:"text"};function Rt(e,n,r,l,u,m){const a=t("nw-icon");return d(),w("div",jt,[o(a,{size:45,name:e.props.icon},null,8,["name"]),s("div",Vt,T(e.props.text),1)])}const Ht=$(Pt,[["render",Rt],["__scopeId","data-v-96cace48"]]);Mt();Ne();const qt=g({components:{NLayout:E,NLayoutSider:Z,NLayoutHeader:I,NLayoutContent:B,NButton:y,NSpace:x,NwIcon:v,NTag:he,NInput:C,NInputGroup:S,NDrawer:N,NDrawerContent:A,NwPickPage:Oe,SideMenu:Ot,Error:Ht},setup(){return{LayoutType:be,FrameUrl:O,ErrorMsg:z}}});const Gt=["src"];function Wt(e,n,r,l,u,m){const a=t("error"),i=t("SideMenu"),h=t("n-layout-sider"),c=t("n-layout-content"),f=t("n-layout");return e.ErrorMsg.flag?(d(),F(a,{key:0,text:e.ErrorMsg.text,icon:e.ErrorMsg.icon},null,8,["text","icon"])):(d(),F(f,{key:1,"has-sider":"",class:"nw-layout-full"},{default:p(()=>[e.LayoutType==="app"?(d(),F(h,{key:0,bordered:"",width:"140","content-style":"padding: 0;",style:{"margin-right":"-1px"},"show-trigger":"","collapse-mode":"width","collapsed-width":0},{default:p(()=>[o(i)]),_:1})):R("",!0),o(c,null,{default:p(()=>[s("iframe",{class:"app-frame",src:e.FrameUrl},null,8,Gt)]),_:1})]),_:1}))}const Jt=$(qt,[["render",Wt],["__scopeId","data-v-c03fea63"]]),Kt=g({components:{NConfigProvider:se,NDrawer:N,NDrawerContent:A,NLayout:E,NLayoutHeader:I,NLayoutSider:Z,NLayoutContent:B,NLayoutFooter:de,NThemeEditor:_e,NButton:y,NInputGroup:S,NInput:C,NForm:ae,NFormItem:ce,NPopconfirm:me,NwSider:un,NwBack:Bn,NwHeader:xt,NwAppContent:Jt},setup(){return{}}});const Yt={class:"wrapper"},Zt={class:"sider"},Qt={class:"container"},Xt={class:"layout"},eo={class:"layout-header"},no={class:"layout-content"};function to(e,n,r,l,u,m){const a=t("nw-back"),i=t("nw-sider"),h=t("nw-header"),c=t("NwAppContent");return d(),w("article",Yt,[o(a),s("aside",Zt,[o(i)]),s("section",Qt,[s("div",Xt,[s("div",eo,[o(h)]),s("div",no,[o(c)])])])])}const oo=$(Kt,[["render",to]]);De(oo).use(Pe).mount("#app");
