import{d as v,b as t,a,o as f,c as z,w as o,h as p,_ as fe,$ as _e,r as w,f as u,t as q,g,e as M,F as ve,U as Ie,n as De,m as Fe}from"./runtime-dom.esm-bundler.bf4f36cb.js";import{i as Ae}from"./style.24c82a16.js";import{aV as he,aW as ye,aX as Ne,aY as S,aq as $,ar as U,aA as I,as as D,aZ as we,am as F,i as be,_ as A,r as G,a_ as Pe,c as H,az as j,f as V,ak as Q,a as K,b as W,e as X,k as Y,al as Z,a$ as x,b0 as ee,aJ as L,ao as ne,an as Be,aL as ge,ax as Me,b1 as ze,m as Ve}from"./index.0e7eb3bd.js";import{N as te,a as oe}from"./Tabs.dac43389.js";import{N as ae,a as se}from"./Step.db780097.js";import{N as le}from"./FormItemGridItem.5c201774.js";import{N as re}from"./Radio.929283f6.js";import{N as Ce}from"./index.596997e4.js";import{N as Le}from"./index.f553f930.js";import{N as Oe}from"./Scrollbar.e2b8029c.js";import"./Add.f7b12907.js";import"./index.64b6020f.js";function B(e,n,l){let i=e;return n&&(i+=`__${n}`),l&&(i+=`--${l}`),i}function P(e,n=!1){const l=n?`.devui-${e}`:`devui-${e}`;return{b:()=>B(l),e:s=>s?B(l,s):"",m:s=>s?B(l,"",s):"",em:(s,m)=>s&&m?B(l,s,m):""}}var ie=v({name:"DLayout",emits:[],setup(e,{slots:n}){const l=P("layout");return()=>{var i;const y=(i=n.default)==null?void 0:i.call(n),d=`${y.some(s=>s.type.name==="DAside")?l.e("aside"):""} ${l.b()}`;return t("div",{class:d},[y])}}}),ce=v({name:"DContent",setup(e,{slots:n}){const l=P("layout");return()=>{var i;return t("div",{class:l.e("content")},[(i=n.default)==null?void 0:i.call(n)])}}}),de=v({name:"DHeader",setup(e,{slots:n}){const l=P("layout");return()=>{var i;return t("div",{class:l.e("header")},[(i=n.default)==null?void 0:i.call(n)])}}}),ue=v({name:"DFooter",setup(e,{slots:n}){const l=P("layout");return()=>{var i;return t("div",{class:l.e("footer")},[(i=n.default)==null?void 0:i.call(n)])}}}),pe=v({name:"DAside",setup(e,{slots:n}){const l=P("layout");return()=>{var i;return t("div",{class:l.em("aside","inner")},[(i=n.default)==null?void 0:i.call(n)])}}}),Re={title:"Layout \u5E03\u5C40",category:"\u5E03\u5C40",status:"100%",install(e){e.component(ie.name,ie),e.component(ce.name,ce),e.component(de.name,de),e.component(ue.name,ue),e.component(pe.name,pe)}};const Je=v({name:"DSplitterDemoDirection",components:{NMessageProvider:he,NNotificationProvider:ye,NDialogProvider:Ne,NConfigProvider:S,NLayout:$,NLayoutHeader:U,NLayoutSider:I,NLayoutContent:D,NLayoutFooter:we,NSpin:F,NwIcon:be},setup(){return{}}}),O=e=>(fe("data-v-8c69dbc1"),e=e(),_e(),e),Te={class:"fe-card-edit fe-card-action",style:{width:"200px"}},qe=O(()=>p("div",{style:{"margin-right":"5px"}},"\u6807\u9898",-1)),Ee={class:"fe-card-edit fe-card-form fe-card-action"},Ge=O(()=>p("div",{style:{"margin-right":"5px"}},"\u8868\u5355\u9875\u9762",-1)),He=O(()=>p("div",{class:"fe-card-edit fe-card-btn fe-card-btn-left fe-card-action",style:{width:"50%","margin-right":"10px"}}," \u6DFB\u52A0\u5DE6\u6309\u94AE ",-1)),je=O(()=>p("div",{class:"fe-card-edit fe-card-btn fe-card-btn-right fe-card-action",style:{width:"50%"}}," \u6DFB\u52A0\u53F3\u6309\u94AE ",-1));function Qe(e,n,l,i,y,C){const d=a("nw-icon"),s=a("n-layout-header"),m=a("n-layout-content"),_=a("n-layout-footer"),c=a("n-layout");return f(),z(c,{class:"fe-card"},{default:o(()=>[t(s,{class:"fe-card-header"},{default:o(()=>[p("div",Te,[qe,t(d,{name:"icon-bianji1",size:18})])]),_:1}),t(m,{class:"fe-card-content","content-style":"width: 100%;overflow: visible;"},{default:o(()=>[p("div",Ee,[Ge,t(d,{name:"icon-bianji1",size:18})])]),_:1}),t(_,{class:"fe-card-footer"},{default:o(()=>[He,je]),_:1})]),_:1})}const Ke=A(Je,[["render",Qe],["__scopeId","data-v-8c69dbc1"]]);function We(e){return G({url:"/main/mdmCpts",method:"post",data:e})}function Xe(e){return G({url:"/main/mdmCpts",method:"put",data:e})}function Ye(e){return G({url:`/main/mdmCpts/${e}`,method:"get"})}const Ze={fullName:"test456",shortName:"test1",viewMode:"drawer",icon:"icon-openway-xinyemian",width:"800px",height:"600px",remarks:"test456",type:"form",formUrl:"/html/mso/orchestrate-classify-form.html",formId:"",formNameCh:"xxx",buttons:'[{"align":"right","disabled":false,"text":"\u4FDD\u5B58","type":"info","id":"btn1","script":"saveScript"}]',script:`[{"key":"init","isAsync":true,"code":"\\n// ----\\nreturn {}\\n        "},{"key":"saveScript","isAsync":true,"code":"\\nUtils.SetSpin(true)\\nconst r = await Request({\\n    url: '/mso/msodefType',\\n    method: 'post',\\n    data: await Utils.GetFormValue()\\n})\\n.then(r => {\\n    window.$message.success('\u7F16\u6392\u5206\u7C7B\u6DFB\u52A0\u6210\u529F')\\n    return true\\n})\\n.catch(error => {\\n    window.$message.error('\u7F16\u6392\u5206\u7C7B\u6DFB\u52A0\u5931\u8D25')\\n    console.log('===========', error)\\n    return false\\n})\\nUtils.SetSpin(false)\\nUtils.DispatchEvent('complete')\\nreturn r\\n        "}]`},xe=Pe.parseQuery,h=w([{key:"init",isAsync:!0,code:`
// ----
return {}
        `},{key:"saveScript",isAsync:!0,code:`
Utils.SetSpin(true)
const r = await Request({
    url: '/main/mdmSys',
    method: 'post',
    data: await Utils.GetFormValue()
})
.then(r => {
    Utils.Message.error('\u6DFB\u52A0\u6210\u529F')
    return true
})
.catch(error => {
    
    Utils.Message.error('\u6DFB\u52A0\u5931\u8D25')
    return false
})
Utils.SetSpin(false)
Utils.DispatchEvent('complete')
return r
        `}]),E=w(""),k=w([{align:"right",disabled:!1,text:"\u4FDD\u5B58",type:"info",id:"btn1",script:"saveScript"}]),R=w({type:"form",formUrl:"/smm/demoForm",formId:"1563005192632078338",formNameCh:"demo",formName:"demoForm"}),J=w({}),en=()=>{const e=xe(window.location.search.substring(1));switch(E.value=e.action,e.action){case"create":me({...Ze,appCode:window.decodeURI(e.appCode),appName:window.decodeURI(e.appName)});break;case"edit":Ye(e.id).then(n=>{me(n)});break}},me=e=>{J.value={id:e.id,code:e.code,appCode:e.appCode,appName:e.appName,fullName:e.fullName,shortName:e.shortName,viewMode:e.viewMode||"drawer",icon:e.icon,remarks:e.remarks,width:e.width,height:e.height},R.value={type:e.type,formId:e.formId,formUrl:e.formUrl,formNameCh:e.formNameCh},k.value=JSON.parse(e.buttons),h.value=JSON.parse(e.script)},nn=()=>{const e={...J.value,...R.value,buttons:JSON.stringify(k.value),script:JSON.stringify(h.value)};E.value==="create"?We(e).then(n=>{window.location.href="/main/pages/function-manage.html#/"}):E.value==="edit"&&Xe(e).then(n=>{window.location.href="/main/pages/function-manage.html#/"})},tn=v({name:"Basic",components:{NLayout:$,NLayoutHeader:U,NLayoutSider:I,NLayoutContent:D,NTabs:te,NTabPane:oe,NSteps:ae,NStep:se,NGrid:H,NTree:j,NButton:V,NConfigProvider:S,NModal:Q,NForm:K,NFormItem:W,NFormItemGi:le,NInput:X,NSelect:Y,NTreeSelect:Z,NCheckbox:x,NRadio:re,NRadioGroup:ee,NSpin:F,NDivider:L,NwIconPick:ne},setup(){return{basic:J}}});function on(e,n,l,i,y,C){const d=a("n-input"),s=a("n-form-item-gi"),m=a("nw-icon-pick"),_=a("n-radio"),c=a("n-radio-group"),b=a("n-grid"),N=a("n-form");return f(),z(N,{model:e.basic,ref:"formRef","label-placement":"top","label-width":60,size:"small",style:{padding:"5px 10px"}},{default:o(()=>[t(b,{cols:24,"x-gap":24},{default:o(()=>[t(s,{span:12,label:"\u529F\u80FD\u5168\u79F0",path:"fullName"},{default:o(()=>[t(d,{placeholder:"",value:e.basic.fullName,"onUpdate:value":n[0]||(n[0]=r=>e.basic.fullName=r)},null,8,["value"])]),_:1}),t(s,{span:12,label:"\u529F\u80FD\u7B80\u79F0",path:"shortName"},{default:o(()=>[t(d,{placeholder:"",value:e.basic.shortName,"onUpdate:value":n[1]||(n[1]=r=>e.basic.shortName=r)},null,8,["value"])]),_:1}),t(s,{span:12,label:"\u529F\u80FD\u7F16\u7801",path:"code"},{default:o(()=>[t(d,{placeholder:"",value:e.basic.code,"onUpdate:value":n[2]||(n[2]=r=>e.basic.code=r)},null,8,["value"])]),_:1}),t(s,{span:12,label:"\u6240\u5C5E\u5E94\u7528",path:"code"},{default:o(()=>[u(q(e.basic.appName)+" ("+q(e.basic.appCode)+") ",1)]),_:1}),t(s,{span:12,label:"\u56FE\u6807",path:"icon"},{default:o(()=>[t(m,{value:e.basic.icon,"onUpdate:value":n[3]||(n[3]=r=>e.basic.icon=r)},null,8,["value"])]),_:1}),t(s,{span:12,label:"\u5C55\u793A\u65B9\u5F0F",path:"icon"},{default:o(()=>[t(c,{value:e.basic.viewMode,"onUpdate:value":n[4]||(n[4]=r=>e.basic.viewMode=r),name:"radiogroup"},{default:o(()=>[t(_,{value:"drawer"},{default:o(()=>[u(" \u62BD\u5C49 ")]),_:1}),t(_,{value:"modal"},{default:o(()=>[u(" \u6A21\u6001 ")]),_:1})]),_:1},8,["value"])]),_:1}),t(s,{span:12,label:"\u5BBD\u5EA6",path:"icon"},{default:o(()=>[t(d,{placeholder:"",value:e.basic.width,"onUpdate:value":n[5]||(n[5]=r=>e.basic.width=r)},null,8,["value"])]),_:1}),t(s,{span:12,label:"\u9AD8\u5EA6 (\u53EA\u6709\u5728\u6D6E\u52A8\u6846\u6216\u5BF9\u8BDD\u6846\u6A21\u5F0F\u4E0B\u8D77\u4F5C\u7528)",path:"icon"},{default:o(()=>[t(d,{placeholder:"",value:e.basic.height,"onUpdate:value":n[6]||(n[6]=r=>e.basic.height=r)},null,8,["value"])]),_:1}),t(s,{span:24,label:"\u5907\u6CE8",path:"remarks"},{default:o(()=>[t(d,{type:"textarea",placeholder:"",value:e.basic.remarks,"onUpdate:value":n[7]||(n[7]=r=>e.basic.remarks=r)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"])}const an=A(tn,[["render",on]]),sn=v({name:"Basic",components:{NLayout:$,NLayoutHeader:U,NLayoutSider:I,NLayoutContent:D,NTabs:te,NTabPane:oe,NSteps:ae,NStep:se,NGrid:H,NTree:j,NButton:V,NConfigProvider:S,NModal:Q,NForm:K,NFormItem:W,NFormItemGi:le,NInput:X,NSelect:Y,NTreeSelect:Z,NCheckbox:x,NRadio:re,NRadioGroup:ee,NSpin:F,NDivider:L,NwIconPick:ne,NwPickForm:Ce},setup(){return{content:R}}});function ln(e,n,l,i,y,C){const d=a("n-radio"),s=a("n-radio-group"),m=a("n-form-item-gi"),_=a("nw-pick-form"),c=a("n-input"),b=a("n-grid"),N=a("n-form");return f(),g("div",null,[t(N,{model:e.content,ref:"formRef","label-placement":"top","label-width":60,size:"small",style:{padding:"5px 10px"}},{default:o(()=>[t(b,{cols:24,"x-gap":24},{default:o(()=>[t(m,{span:12,label:"\u5185\u5BB9\u7C7B\u578B",path:"fullName"},{default:o(()=>[t(s,{value:e.content.type,"onUpdate:value":n[0]||(n[0]=r=>e.content.type=r),name:"radiogroup"},{default:o(()=>[t(d,{value:"form"},{default:o(()=>[u(" \u8868\u5355 ")]),_:1}),t(d,{value:"dialog"},{default:o(()=>[u(" \u6587\u5B57 ")]),_:1})]),_:1},8,["value"])]),_:1}),e.content.type==="form"?(f(),z(m,{key:0,span:12,label:"\u8868\u5355",path:"fullName"},{default:o(()=>[t(_,{value:e.content.formId,"onUpdate:value":n[1]||(n[1]=r=>e.content.formId=r),formNameCh:e.content.formNameCh,"onUpdate:pageUrl":n[2]||(n[2]=r=>e.content.formUrl=r),"onUpdate:pageCode":n[3]||(n[3]=r=>e.content.formName=r),"onUpdate:pageName":n[4]||(n[4]=r=>e.content.formNameCh=r)},null,8,["value","formNameCh"])]),_:1})):M("",!0),t(m,{span:24,label:"Url",path:"fullName"},{default:o(()=>[t(c,{placeholder:"",value:e.content.formUrl,"onUpdate:value":n[5]||(n[5]=r=>e.content.formUrl=r)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"])])}const rn=A(sn,[["render",ln]]);const cn=v({name:"Basic",components:{NLayout:$,NLayoutHeader:U,NLayoutSider:I,NLayoutContent:D,NTag:Be,NTabs:te,NTabPane:oe,NSteps:ae,NStep:se,NGrid:H,NTree:j,NButton:V,NConfigProvider:S,NModal:Q,NForm:K,NFormItem:W,NFormItemGi:le,NInput:X,NSelect:Y,NTreeSelect:Z,NCheckbox:x,NRadio:re,NRadioGroup:ee,NSpin:F,NDivider:L,NwIcon:be,NwIconPick:ne,NwPickForm:Ce,NwCodeMirror:ge},setup(){const e=w({});return e.value=h.value.find(n=>n.key==="init"),{script:h,actionScript:e,handleScript(n){e.value=n},handleAddScript(){const n={key:`script_${h.value.length}`,isAsync:!1,code:""};h.value.push(n),e.value=n},handleDel(n,l,i){n.stopPropagation(),e.value===l&&(e.value=!1),h.value.splice(i,1)}}}}),dn={class:"fun-script-content"},un={class:"left"},pn=["onClick"],mn={class:"script-add"},fn={class:"right"},_n={key:0,class:"script-params"},vn={key:1,class:"code"};function hn(e,n,l,i,y,C){const d=a("nw-icon"),s=a("n-input"),m=a("n-checkbox"),_=a("NwCodeMirror");return f(),g("div",dn,[p("div",un,[(f(!0),g(ve,null,Ie(e.script,(c,b)=>(f(),g("div",{key:c.key,class:De({"script-name":!0,action:e.actionScript===c}),onClick:N=>e.handleScript(c)},[u(q(c.key)+" ",1),c.key!=="init"?(f(),z(d,{key:0,name:"icon-guanbichuangkou",size:10,onClick:N=>e.handleDel(N,c,b),class:"script-del"},null,8,["onClick"])):M("",!0)],10,pn))),128)),p("div",mn,[p("div",{class:"script-add-btn",onClick:n[0]||(n[0]=(...c)=>e.handleAddScript&&e.handleAddScript(...c))},[t(d,{name:"icon-n-y-add"})])])]),p("div",fn,[e.actionScript?(f(),g("div",_n,[u(" \u811A\u672CKey: "),t(s,{size:"small",style:{width:"120px"},value:e.actionScript.key,"onUpdate:value":n[1]||(n[1]=c=>e.actionScript.key=c)},null,8,["value"]),u(" \xA0 \u662F\u5426\u5F02\u6B65: "),t(m,{checked:e.actionScript.isAsync,"onUpdate:checked":n[2]||(n[2]=c=>e.actionScript.isAsync=c)},null,8,["checked"])])):M("",!0),e.actionScript?(f(),g("div",vn,[t(_,{value:e.actionScript.code,"onUpdate:value":n[3]||(n[3]=c=>e.actionScript.code=c),disabled:!1},null,8,["value"])])):M("",!0)])])}const yn=A(cn,[["render",hn],["__scopeId","data-v-2dabea96"]]);const Nn=v({name:"DSplitterDemoDirection",components:{NwOpenapiPick:Le,NMessageProvider:he,NNotificationProvider:ye,NDialogProvider:Ne,NConfigProvider:S,NSpin:F,NLayout:$,NLayoutHeader:U,NLayoutSider:I,NLayoutContent:D,NLayoutFooter:we,FunctionDemo:Ke,NDivider:L,NwCodeMirror:ge,FunBasic:an,FunContent:rn,FunScript:yn,NButton:V,NDrawer:Me,NScrollbar:Oe,NwFunctionViewer:ze},setup(){const e=w(!1),n=w(null);return en(),{previewFunctionViewRef:n,theme:{Button:{heightSmall:"22px",fontSizeSmall:"12px"}},script:h,buttons:k,previewVisible:e,handleShowPreview(){n.value.show({...J.value,...R.value,buttons:JSON.stringify(k.value),script:JSON.stringify(h.value)},{})},buttonsCode:Fe(()=>JSON.stringify(k.value,null,"	")),updateButtons:l=>{k.value=new Function(`return ${l}`)()},onPreviewCancel:()=>{e.value=!1},onPreviewComplete:()=>{e.value=!1},saveFun:nn,InterfacesCallback(l){console.log(l)},handleCancel(){window.location.href="/web-main/pages/function-manage.html"}}}}),wn=e=>(fe("data-v-6c962273"),e=e(),_e(),e),bn=wn(()=>p("div",{class:"title"},"\u529F\u80FD\u7F16\u8F91",-1)),gn={class:"content"},Cn={style:{width:"800px",margin:"0 auto"}},kn={style:{padding:"0 5px"}},Sn={style:{padding:"0 5px"}};function $n(e,n,l,i,y,C){const d=a("n-layout-header"),s=a("n-divider"),m=a("fun-basic"),_=a("fun-content"),c=a("NwCodeMirror"),b=a("NwOpenapiPick"),N=a("fun-script"),r=a("n-scrollbar"),ke=a("n-layout-content"),T=a("n-button"),Se=a("n-layout-footer"),$e=a("n-layout"),Ue=a("nw-function-viewer");return f(),g(ve,null,[t($e,{class:"nw-layout-full"},{default:o(()=>[t(d,null,{default:o(()=>[bn]),_:1}),t(ke,null,{default:o(()=>[p("div",gn,[t(r,{style:{}},{default:o(()=>[p("div",Cn,[t(s,{"title-placement":"left"},{default:o(()=>[u(" \u57FA\u7840\u4FE1\u606F ")]),_:1}),t(m),t(s,{"title-placement":"left"},{default:o(()=>[u(" \u5185\u5BB9 ")]),_:1}),t(_),t(s,{"title-placement":"left"},{default:o(()=>[u(" \u6309\u94AE ")]),_:1}),t(c,{disabled:!1,value:e.buttonsCode,"onUpdate:value":e.updateButtons},null,8,["value","onUpdate:value"]),t(s,{"title-placement":"left"},{default:o(()=>[u(" \u811A\u672C ")]),_:1}),t(b,{onCallback:e.InterfacesCallback},null,8,["onCallback"]),t(N)])]),_:1})])]),_:1}),t(Se,null,{default:o(()=>[p("div",kn,[t(T,{type:"info",size:"small",style:{"margin-right":"5px"},onClick:e.handleShowPreview},{default:o(()=>[u("\u9884\u89C8")]),_:1},8,["onClick"])]),p("div",Sn,[t(T,{type:"info",size:"small",style:{"margin-right":"5px"},onClick:e.saveFun},{default:o(()=>[u("\u4FDD\u5B58")]),_:1},8,["onClick"]),t(T,{size:"small",onClick:e.handleCancel},{default:o(()=>[u("\u5173\u95ED")]),_:1},8,["onClick"])])]),_:1})]),_:1}),t(Ue,{ref:"previewFunctionViewRef",onCancel:e.onPreviewCancel,onComplete:e.onPreviewComplete},null,8,["onCancel","onComplete"])],64)}const Un=A(Nn,[["render",$n],["__scopeId","data-v-6c962273"]]);Ve(Un).use(Re).use(Ae).mount("#app");
