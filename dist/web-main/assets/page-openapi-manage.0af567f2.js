import{r as u,j as F,a as o,o as x,c as Z,w as a,b as t,K as B,h as v,f as J,d as Q,k as h,g as W,F as X}from"./runtime-dom.esm-bundler.bf4f36cb.js";import{aY as S,ax as k,ay as z,aq as D,ar as H,aA as O,as as I,aZ as M,b2 as E,f as m,aw as P,e as L,am as ee,a as R,b as T,at as q,ak as te,i as oe,eC as ae,_ as A,aI as ne,b8 as le,bb as se,bc as re,b6 as C,b3 as ie,b4 as ue,b5 as N,b7 as ce,m as de}from"./index.0e7eb3bd.js";import{D as $,S as j,a as U,t as V}from"./index.64b6020f.js";const pe={components:{NConfigProvider:S,NDrawer:k,NDrawerContent:z,NLayout:D,NLayoutHeader:H,NLayoutSider:O,NLayoutContent:I,NLayoutFooter:M,NThemeEditor:E,NButton:m,NInputGroup:P,NInput:L,NSpin:ee,NForm:R,NFormItem:T,NPopconfirm:q,NModal:te,NwIcon:oe,Detail:$,SideTree:j,Search:U},props:{value:{type:String,default:""},text:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["callback"],setup(n,l){const d=u(!1),e=u(!1),i=u(null),w=u(null),c=u({mthPath:"",mthMethod:""}),p=()=>{e.value=!1},f=F({rowId:"id",size:"mini",border:!1,resizable:!0,height:"auto",align:null,columns:[{field:"createTime",title:"\u65F6\u95F4",showHeaderOverflow:!0},{field:"ctlName",title:"\u7C7B\u540D",showHeaderOverflow:!0},{field:"mthDescription",title:"\u63A5\u53E3\u63CF\u8FF0",showHeaderOverflow:!0}],pagerConfig:{pageSize:20,pageSizes:[10,20,50]},proxyConfig:{props:{total:"total"},ajax:{query:({page:r})=>ae({...c.value,page:{current:r.currentPage,size:r.pageSize}}).then(async s=>(console.log("=====dd=====",s),{result:s.records,total:s.total}))}}});return{props:n,isLoading:d,visible:e,gridContent:w,theme:V,gridOptions:f,tableRef:i,handleModal(){e.value=!0},show(r,s){e.value=!0,c.value={mthPath:r,mthMethod:s},i.value.commitProxy("query")},handleCancel:p}}},fe=v("div",{class:"iconfont icon-bpmn-ditu"},null,-1),_e=v("div",null," \u63A5\u53E3\u4FEE\u6539\u5386\u53F2 ",-1),he={class:"nw-modal-action"};function me(n,l,d,e,i,w){const c=o("nw-icon"),p=o("vxe-grid"),f=o("n-layout-content"),r=o("n-layout"),s=o("n-spin"),g=o("n-button"),_=o("n-modal"),y=o("n-config-provider");return x(),Z(y,{abstract:"","theme-overrides":e.theme},{default:a(()=>[t(_,{class:"nw-modal",show:e.visible,"onUpdate:show":l[0]||(l[0]=b=>e.visible=b),preset:"dialog",style:{width:"600px",padding:"0"},"show-icon":!0,"mask-closable":!0,closable:!0},{icon:a(()=>[fe,t(c,{name:"icon-biaodanmoshi",size:20,color:"rgb(103, 194, 58)"})]),header:a(()=>[_e]),default:a(()=>[t(s,{show:e.isLoading},{default:a(()=>[t(r,{class:"nw-page",style:{height:"400px","padding-top":"5px"}},{default:a(()=>[t(f,{style:{height:"100%"}},{default:a(()=>[t(p,B(e.gridOptions,{ref:"tableRef",class:"mytable-scrollbar"}),null,16)]),_:1})]),_:1})]),_:1},8,["show"]),v("div",he,[t(g,{size:"small",onClick:e.handleCancel},{default:a(()=>[J("\u53D6\u6D88")]),_:1},8,["onClick"])])]),_:1},8,["show"])]),_:1},8,["theme-overrides"])}const we=A(pe,[["render",me]]),ge=Q({components:{NConfigProvider:S,NDrawer:k,NDrawerContent:z,NLayout:D,NLayoutHeader:H,NLayoutSider:O,NLayoutContent:I,NLayoutFooter:M,NThemeEditor:E,NButton:m,NInputGroup:P,NInput:L,NForm:R,NFormItem:T,NPopconfirm:q,Detail:$,SideTree:j,Search:U,HistoryModal:we,NwAppTreeGrid:ne},setup(){const n=u(null),l=u(null),d=F({rowId:"id",size:"mini",border:!1,resizable:!0,height:"auto",align:null,columns:[{field:"mthPath",title:"\u8BF7\u6C42URL",showHeaderOverflow:!0},{field:"mthMethod",title:"\u8BF7\u6C42Method",showHeaderOverflow:!0,width:"105px"},{field:"mthDescription",title:"\u63A5\u53E3\u63CF\u8FF0",showHeaderOverflow:!0},{field:"ctlName",title:"\u6240\u5C5E\u7C7B",showHeaderOverflow:!0},{field:"status",title:"\u72B6\u6001",showOverflow:!0,width:"45px",slots:{default:({row:e})=>[h("span",null,e.onOff=="on"?"\u542F\u7528":"\u7981\u7528")]}},{field:"status",title:"\u5728\u7EBF/\u79BB\u7EBF",showOverflow:!0,width:"90px",slots:{default:({row:e})=>[h("span",null,e.isLine==="offline"?"\u79BB\u7EBF":"\u5728\u7EBF")]}},{field:"",title:"\u64CD\u4F5C",showHeaderOverflow:!0,width:"100px",slots:{default:({row:e})=>[h(m,{text:!0,size:"small",type:"info",style:"margin-right: 10px;",onClick:()=>{console.log("gridContent",n),le(e.id)}},{default:()=>"\u67E5\u770B"}),h(m,{text:!0,size:"small",type:"info",onClick:()=>{l.value.show(e.mthPath,e.mthMethod)}},{default:()=>"\u5386\u53F2"})]}}],pagerConfig:{pageSize:20,pageSizes:[10,20,50]},proxyConfig:{props:{total:"total"},ajax:{query:({page:e})=>se({...re.value,...C.value,page:{current:e.currentPage,size:e.pageSize}}).then(async i=>({result:i.records,total:i.total}))}}});return{HistoryModalRef:l,gridContent:n,InterfaceDetail:ie,theme:V,gridOptions:d,pageRef:ue,tableRef:N,sideTreeCallback(e){C.value={sysCode:e.appCode},N.value.commitProxy("query"),ce()}}}});function ye(n,l,d,e,i,w){const c=o("nw-app-tree-grid"),p=o("n-layout-sider"),f=o("Search"),r=o("n-layout-header"),s=o("vxe-grid"),g=o("n-layout-content"),_=o("n-layout"),y=o("Detail"),b=o("n-drawer-content"),G=o("n-drawer"),K=o("HistoryModal");return x(),W(X,null,[t(_,{"has-sider":"",class:"nw-layout-full with-sprite"},{default:a(()=>[t(p,{class:"nw-sprite",width:"250",style:{"margin-right":"10px"}},{default:a(()=>[t(c,{rootName:"\u5168\u90E8",onCallback:n.sideTreeCallback},null,8,["onCallback"])]),_:1}),t(_,{class:"nw-layout-full nw-sprite","content-style":"height: 100%"},{default:a(()=>[t(r,{class:"nw-layout-header"},{default:a(()=>[t(f)]),_:1}),t(g,null,{default:a(()=>[t(s,B(n.gridOptions,{ref:"tableRef"}),null,16)]),_:1})]),_:1})]),_:1}),t(G,{show:n.InterfaceDetail.visible,"onUpdate:show":l[0]||(l[0]=Y=>n.InterfaceDetail.visible=Y),placement:"right",width:"100%","trap-focus":!1,"block-scroll":!1,to:n.gridContent&&n.gridContent.$el},{default:a(()=>[t(b,null,{default:a(()=>[t(y)]),_:1})]),_:1},8,["show","to"]),t(K,{ref:"HistoryModalRef"},null,512)],64)}const be=A(ge,[["render",ye]]);de(be).mount("#app");
