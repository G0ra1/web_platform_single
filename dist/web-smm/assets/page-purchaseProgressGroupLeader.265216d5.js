import{ae as M,al as K,am as J,ar as Q,aq as Z,as as he,ao as $,k as I,at as B,au as A,G as L,ap as D,H as E,an as x,av as be,r as v,a9 as z,B as F,_ as O,I as s,o as R,b as ee,w as a,g as T,a as e,d as H,m as j,N as W,E as te,M as le,a8 as ae,h as oe,ag as q,aw as ne,ax as ue,j as Ne,b8 as we,ay as G,a5 as V,aa as _e,a7 as Ce,c as ie,F as de,e as U,t as S,a6 as se,az as Pe,aA as Fe,aB as X,aC as Te,p as Me}from"./index.e51afe9d.js";import{N as re,a as me,M as pe,b as ke,c as Ue,O as De}from"./index.9875855d.js";import{N as fe}from"./text.6614a830.js";import{N as Ie}from"./InputNumber.9cc11044.js";import"./Radio.95abfb5b.js";import"./FormItemGridItem.d78d7d10.js";function Be(t){return M({url:"/supp/suppFillCommodity/getNewest",method:"get",data:t})}function Y(t){return M({url:"/supp/purchaseProgress/page",method:"post",data:t})}function ve(t){return M({url:"/supp/purchaseProgress",method:"post",data:t})}function ce(t){return M({url:"/supp/purchaseProgress",method:"put",data:t})}function Le(t){return M({url:`/supp/purchaseProgress/${t}`,method:"delete"})}function ze(t){return M({url:`/supp/purchaseProgress/${t}`,method:"get"})}function Oe(t){return M({url:"/main/mdmOrg/list",method:"post",data:t})}const Re={components:{NLayout:K,NLayoutHeader:J,NLayoutSider:Q,NLayoutContent:Z,NLayoutFooter:he,NInputGroup:$,NInput:I,NSpin:B,NModal:A,NButton:L,NwIcon:D,NSwitch:E,NSpace:x,NTree:be},props:{rootName:{type:String,default:""},multiple:{type:Boolean,default:!1},value:{type:String,default:""}},emits:["callback"],setup(t,l){const y=v([]),i=v(!1),h=v(""),b=({option:n})=>F(F("div",null,F(D,{name:n.appType==2?n.appIcon:"icon-n-y-fenjifenlei",size:15}))),d=()=>{i.value=!0,Oe({isDefault:0,status:1}).then(n=>{y.value=n,i.value=!1})};return z(()=>{d()}),{props:t,renderPrefix:b,getTreeList:d,pattern:h,tIsLoading:i,treeData:y,nodeProps:({option:n})=>({onClick(){l.emit("callback",n)},onContextmenu(p){optionsRef.value=[n],showDropdownRef.value=!0,xRef.value=p.clientX,yRef.value=p.clientY,console.log(p.clientX,p.clientY),p.preventDefault()}})}}};const Se={class:"questionHeader"};function $e(t,l,y,i,h,b){const d=s("n-input"),n=s("n-tree"),p=s("n-spin"),f=s("n-space");return R(),ee(f,{vertical:"",size:12},{default:a(()=>[T("div",Se,[e(d,{placeholder:"\u641C\u7D22",style:{},value:i.pattern,"onUpdate:value":l[0]||(l[0]=g=>i.pattern=g)},null,8,["value"])]),e(p,{show:i.tIsLoading},{default:a(()=>[e(n,{data:i.treeData,"children-field":"children","label-field":"orgName","key-field":"id","render-prefix":i.renderPrefix,"block-line":"",pattern:i.pattern,"virtual-scroll":"",class:"treeH","node-props":i.nodeProps},null,8,["data","render-prefix","pattern","node-props"])]),_:1},8,["show"])]),_:1})}const Ae=O(Re,[["render",$e]]),Ee=H({components:{NModal:A,NInput:I,NForm:j,NFormItem:W,NGrid:te,NGridItem:le,NTreeSelect:ae,NSelect:oe,NButton:L,NSpin:B,NTag:q,NImage:re,NText:fe,NP:me,NwDic:ne,NwIcon:D,NwIconPick:ue,MenuPick:pe,NwPickPage:ke,NSwitch:E,NInputNumber:Ie,NDatePicker:Ne,EmployeePickModal:we,NInputGroup:$},props:{},setup(t,l){const y=v(!1),i=v({}),h=v(),b=v(),d=v(!1),n=v([]),p=G(),f=v([]),g=v(null),N=(o={})=>{y.value=!0,o.id&&ze(o.id).then(r=>{r.purchaseProductMixList.length>0&&(f.value=r.purchaseProductMixList,V(()=>{h.value.reloadData(f.value)})),r.purchaseProductMixList.length>0&&(i.value={...i.value,...r.purchaseProgressDetailList[0]})}),o.detailList&&(f.value=o.detailList),i.value=o,_e.get("userInfo").then(r=>{i.value.deptName||(console.log(r,"\u7528\u6237\u4FE1\u606F"),i.value.deptName=r.parentDeptName,i.value.deptNameId=r.parentDeptId)}),i.value.fillTime||(i.value.fillTime=Ce(new Date,"yyyy-MM-dd HH:mm:ss")),V(()=>{h.value.reloadData(f.value)})},_=o=>{i.value.valuecommodityItemName=f.value.filter(r=>r.value==o)[0].label,i.value.commodityItemUnit=f.value.filter(r=>r.value==o)[0].commodityItemUnit,i.value.sn=f.value.filter(r=>r.value==o)[0].sn},c=()=>{let o=[];if(i.value.projectLeader){let r=i.value.projectLeader.split(","),C=i.value.projectLeader.split(","),k=i.value.projectLeaderId.split(",");for(let u=0;u<r.length;u++)o.push({userNameCh:r[u],userName:C[u],id:k[u]});g.value.sonFn(o)}else g.value.sonFn(o)},w=o=>{i.value.projectLeader=o.map(r=>r.userNameCh).join(","),i.value.projectLeaderId=o.map(r=>r.id).join(",")},P=v({rowId:"rowId",rowKey:!1,keepSource:!1,height:"300px",size:"mini",showOverflow:!1,highlightHoverRow:!0,border:!0,data:f.value,editConfig:{trigger:"click",mode:"cell",showStatus:!0,autoClear:!1},columns:[{title:"\u4EA7\u54C1\u6784\u6210",field:"productMix3",showOverflow:"title",minWidth:200},{title:"\u8D39\u7528\u6784\u6210",field:"expenditurePattern",showOverflow:"title",minWidth:200,editRender:{},slots:{default:"expenditurePattern_default",edit:"expenditurePattern_edit"}}]});z(()=>{Be({}).then(o=>{console.log(o,"11111111111"),o&&(f.value=o.detailList.map(r=>({...r,productMix3:r.commodityItemName,expenditurePattern:r.commodityItemPrice})))})});const m=v({commodityItemName:{required:!0,trigger:["focus","input"],message:"\u8BF7\u9009\u62E9\u5927\u5B97\u5546\u54C1\u540D\u79F0"},expenditurePattern:{required:!0,trigger:["focus","input"],message:"\u8BF7\u8F93\u5165\u5927\u5B97\u5546\u54C1\u4EF7\u683C"},sn:{required:!0,trigger:["focus","input"],type:"number",message:"\u8BF7\u8F93\u5165\u6392\u5E8F"}});return{showModal:y,message:p,model:i,formRef:b,isLoading:d,rules:m,sonFn:N,dzsply:f,dzsplyChangeEvent:_,detailVxeGrid:h,detailListGridOption:P,employeePickRef:g,selectUser:c,getUsers:w,getFormMessage(o,r){i.value.formId=r.id,i.value.formUrl=r.pageUrl,i.value.formTargetUrl=r.targetUrl},platformDictCodes:n,onPositiveClick(){const o=i.value.id?ce:ve;let r={...i.value,purchaseProductMixList:f.value,purchaseProgressDetailList:[{...i.value,id:null}]};b.value.validate(C=>{C||(d.value=!0,o(r).then(k=>{k&&(l.emit("update:callback"),y.value=!1)}).finally(k=>{d.value=!1}))})},onNegativeClick(){y.value=!1}}},methods:{}}),He={style:{padding:"0 5px 5px 0"}};function je(t,l,y,i,h,b){const d=s("n-form-item"),n=s("n-grid-item"),p=s("n-input"),f=s("NwIcon"),g=s("n-button"),N=s("n-input-group"),_=s("NwDic"),c=s("n-date-picker"),w=s("n-input-number"),P=s("vxe-grid"),m=s("n-grid"),o=s("n-form"),r=s("n-spin"),C=s("n-modal"),k=s("EmployeePickModal");return R(),ie(de,null,[e(C,{show:t.showModal,"onUpdate:show":l[19]||(l[19]=u=>t.showModal=u),"mask-closable":!1,preset:"dialog",title:"\u5927\u5B97\u7269\u8D44\u539F\u6750\u6599\u4EF7\u683C\u65E5\u5E38\u7EF4\u62A4",content:"\u4F60\u786E\u8BA4","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",style:{width:"800px"},ref:"xmodal"},{action:a(()=>[T("div",He,[e(g,{size:"small",type:"default",style:{"margin-right":"5px"},onClick:l[18]||(l[18]=u=>t.showModal=!1)},{default:a(()=>[U("\u53D6\u6D88")]),_:1}),e(g,{size:"small",type:"info",onClick:t.onPositiveClick,disabled:t.btloading},{default:a(()=>[U("\u4FDD\u5B58")]),_:1},8,["onClick","disabled"])])]),default:a(()=>[e(r,{show:t.isLoading},{default:a(()=>[e(o,{model:t.model,ref:"formRef",rules:t.rules},{default:a(()=>[e(m,{"x-gap":"8",cols:1},{default:a(()=>[e(n,null,{default:a(()=>[e(d,{label:"\u5927\u7C7B",path:"materialsTypeName"},{default:a(()=>[T("span",null,S(t.model.materialsTypeName),1)]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u9879\u76EE\u540D\u79F0",path:"projectName"},{default:a(()=>[T("span",null,S(t.model.projectName),1)]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u9879\u76EE\u8D1F\u8D23\u4EBA",path:"projectName"},{default:a(()=>[e(N,{onClick:l[1]||(l[1]=u=>t.selectUser())},{default:a(()=>[e(p,{value:t.model.projectLeader,"onUpdate:value":l[0]||(l[0]=u=>t.model.projectLeader=u),class:"selectedInput",disabled:""},null,8,["value"]),e(g,{ghost:""},{default:a(()=>[e(f,{name:"icon-n-n-add",size:"15",style:{color:"#828282",cursor:"pointer"}})]),_:1})]),_:1})]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u5F53\u524D\u8FDB\u5C55",path:"currentProgressName"},{default:a(()=>[e(_,{disabled:t.dataModelDisabled,dictCode:"current_progress",placeholder:"\u8BF7\u9009\u62E9\u5F53\u524D\u8FDB\u5C55",value:t.model.currentProgressCode,"onUpdate:value":l[2]||(l[2]=u=>t.model.currentProgressCode=u),label:t.model.currentProgressName,"onUpdate:label":l[3]||(l[3]=u=>t.model.currentProgressName=u)},null,8,["disabled","value","label"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"onePlatformSubmitTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.onePlatformSubmitTime,"onUpdate:formatted-value":l[4]||(l[4]=u=>t.model.onePlatformSubmitTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"onePlatformFinishTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.onePlatformFinishTime,"onUpdate:formatted-value":l[5]||(l[5]=u=>t.model.onePlatformFinishTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",path:"inviteBidsSubmitTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.inviteBidsSubmitTime,"onUpdate:formatted-value":l[6]||(l[6]=u=>t.model.inviteBidsSubmitTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",path:"inviteBidsFinishTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.inviteBidsFinishTime,"onUpdate:formatted-value":l[7]||(l[7]=u=>t.model.inviteBidsFinishTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u62DB\u6807\u6587\u4EF6\u786E\u8BA4\u65F6\u95F4",path:"inviteBidsConfirmTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.inviteBidsConfirmTime,"onUpdate:formatted-value":l[8]||(l[8]=u=>t.model.inviteBidsConfirmTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u62DB\u6807\u516C\u544A\u65F6\u95F4",path:"inviteBidsPublicTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.inviteBidsPublicTime,"onUpdate:formatted-value":l[9]||(l[9]=u=>t.model.inviteBidsPublicTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u5F00\u6807\u65F6\u95F4",path:"tenderOpenTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.tenderOpenTime,"onUpdate:formatted-value":l[10]||(l[10]=u=>t.model.tenderOpenTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u62DB\u6807\u7ED3\u679C\u516C\u793A\u65F6\u95F4",path:"inviteBidsResultPublicTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.inviteBidsResultPublicTime,"onUpdate:formatted-value":l[11]||(l[11]=u=>t.model.inviteBidsResultPublicTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u62DB\u6807\u7ED3\u679C\u5B8C\u6210\u5BA1\u6279\u65F6\u95F4",path:"resultFinishTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.resultFinishTime,"onUpdate:formatted-value":l[12]||(l[12]=u=>t.model.resultFinishTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u8BC4\u5BA1\u62A5\u544A\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"assessSubmitTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.assessSubmitTime,"onUpdate:formatted-value":l[13]||(l[13]=u=>t.model.assessSubmitTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u8BC4\u5BA1\u62A5\u544A\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"assessFinishTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.assessFinishTime,"onUpdate:formatted-value":l[14]||(l[14]=u=>t.model.assessFinishTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u7ED3\u679C\u516C\u544A\u65F6\u95F4",path:"resultPublicTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.resultPublicTime,"onUpdate:formatted-value":l[15]||(l[15]=u=>t.model.resultPublicTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u76EE\u5F55\u4E0A\u8F7D\u65F6\u95F4",path:"catalogUploadTime"},{default:a(()=>[e(c,{style:{width:"100%"},"formatted-value":t.model.catalogUploadTime,"onUpdate:formatted-value":l[16]||(l[16]=u=>t.model.catalogUploadTime=u),"value-format":"yyyy-MM-dd",type:"date"},null,8,["formatted-value"])]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u4EA7\u54C1\u6784\u6210"},{default:a(()=>[e(P,se({ref:"detailVxeGrid"},t.detailListGridOption,{style:{width:"100%"}}),{expenditurePattern_default:a(({row:u,column:ye})=>[T("span",null,S(u.expenditurePattern),1)]),expenditurePattern_edit:a(({row:u,column:ye})=>[e(w,{placeholder:"\u8BF7\u8F93\u5165\u5927\u5B97\u5546\u54C1\u4EF7\u683C",value:u.expenditurePattern,"onUpdate:value":ge=>u.expenditurePattern=ge},null,8,["value","onUpdate:value"])]),_:1},16)]),_:1})]),_:1}),e(n,null,{default:a(()=>[e(d,{label:"\u5907\u6CE8",path:"explanation2"},{default:a(()=>[e(p,{placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",value:t.model.explanation2,"onUpdate:value":l[17]||(l[17]=u=>t.model.explanation2=u)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["show"])]),_:1},8,["show"]),e(k,{ref:"employeePickRef","onUpdate:callback":t.getUsers,multiple:!0},null,8,["onUpdate:callback"])],64)}const We=O(Ee,[["render",je]]),qe=H({components:{NModal:A,NInput:I,NForm:j,NFormItem:W,NGrid:te,NGridItem:le,NTreeSelect:ae,NSelect:oe,NButton:L,NSpin:B,NTag:q,NImage:re,NText:fe,NP:me,NwDic:ne,NwIcon:D,NwIconPick:ue,MenuPick:pe,NwPickCpts:Ue,NSwitch:E},props:{},setup(t,l){const y=v(!1),i=v({}),h=v(),b=v(!1),d=v([]),n=G(),p=(f={})=>{y.value=!0,i.value={...f}};return z(()=>{}),{showModal:y,message:n,model:i,formRef:h,isLoading:b,sonFn:p,platformDictCodes:d,onPositiveClick(){const f=i.value.id?ce:ve;h.value.validate(g=>{g||(b.value=!0,f(i.value).then(N=>{N&&(l.emit("update:callback"),y.value=!1)}).finally(N=>{b.value=!1}))})},onNegativeClick(){y.value=!1}}},methods:{}}),Ge={style:{padding:"0 5px 5px 0"}};function Ve(t,l,y,i,h,b){const d=s("n-input"),n=s("n-form-item"),p=s("n-grid-item"),f=s("n-select"),g=s("nw-pick-cpts"),N=s("n-grid"),_=s("n-form"),c=s("n-spin"),w=s("n-button"),P=s("n-modal");return R(),ee(P,{show:t.showModal,"onUpdate:show":l[12]||(l[12]=m=>t.showModal=m),"mask-closable":!1,preset:"dialog",title:"\u529F\u80FD\u7EF4\u62A4",content:"\u4F60\u786E\u8BA4","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",style:{width:"800px"},ref:"xmodal"},{action:a(()=>[T("div",Ge,[e(w,{size:"small",type:"default",style:{"margin-right":"5px"},onClick:l[11]||(l[11]=m=>t.showModal=!1)},{default:a(()=>[U("\u53D6\u6D88")]),_:1}),e(w,{size:"small",type:"info",onClick:t.onPositiveClick,disabled:t.btloading},{default:a(()=>[U("\u4FDD\u5B58")]),_:1},8,["onClick","disabled"])])]),default:a(()=>[e(c,{show:t.isLoading},{default:a(()=>[e(_,{model:t.model,ref:"formRef",rules:t.rules},{default:a(()=>[e(N,{"x-gap":"8",cols:2},{default:a(()=>[e(p,null,{default:a(()=>[e(n,{label:"\u6309\u94AE\u540D\u79F0",path:"menuName"},{default:a(()=>[e(d,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:t.model.menuName,"onUpdate:value":l[0]||(l[0]=m=>t.model.menuName=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u6309\u94AE\u7F16\u7801",path:"menuCode",disabled:""},{default:a(()=>[e(d,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:t.model.menuCode,"onUpdate:value":l[1]||(l[1]=m=>t.model.menuCode=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u6240\u5C5E\u83DC\u5355",path:"parentFullName"},{default:a(()=>[e(d,{size:"small",disabled:"",placeholder:"\u8BF7\u8F93\u5165",value:t.model.parentFullName,"onUpdate:value":l[2]||(l[2]=m=>t.model.parentFullName=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u9875\u9762\u540D\u79F0",path:"parentName"},{default:a(()=>[e(d,{size:"small",disabled:"",placeholder:"\u8BF7\u8F93\u5165",value:t.model.parentName,"onUpdate:value":l[3]||(l[3]=m=>t.model.parentName=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u8868\u5355\u6309\u94AEcode",path:"buttonCode"},{default:a(()=>[e(d,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:t.model.buttonCode,"onUpdate:value":l[4]||(l[4]=m=>t.model.buttonCode=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u6392\u5E8F",path:"sort"},{default:a(()=>[e(d,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:t.model.sort,"onUpdate:value":l[5]||(l[5]=m=>t.model.sort=m)},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u6309\u94AE\u7C7B\u578B",path:"buttonType"},{default:a(()=>[e(f,{value:t.model.buttonType,"onUpdate:value":l[6]||(l[6]=m=>t.model.buttonType=m),placeholder:"\u8BF7\u9009\u62E9\u6309\u94AE\u7C7B\u578B",options:[{value:"default",label:"default"},{value:"tertiary",label:"tertiary"},{value:"primary",label:"primary"},{value:"success",label:"success"},{value:"info",label:"info"},{value:"warning",label:"warning"},{value:"error",label:"error"}]},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u6309\u94AE\u5C3A\u5BF8",path:"buttonSize"},{default:a(()=>[e(f,{value:t.model.buttonSize,"onUpdate:value":l[7]||(l[7]=m=>t.model.buttonSize=m),placeholder:"\u8BF7\u9009\u62E9\u6309\u94AE\u5C3A\u5BF8",options:[{value:"tiny",label:"tiny"},{value:"small",label:"small"},{value:"medium",label:"medium"},{value:"large",label:"large"}]},null,8,["value"])]),_:1})]),_:1}),e(p,null,{default:a(()=>[e(n,{label:"\u5173\u8054\u529F\u80FD",path:"functionId"},{default:a(()=>[e(g,{fullName:t.model.functionName,"onUpdate:fullName":l[8]||(l[8]=m=>t.model.functionName=m),value:t.model.functionId,"onUpdate:value":l[9]||(l[9]=m=>t.model.functionId=m)},null,8,["fullName","value"])]),_:1})]),_:1}),e(p,{span:24},{default:a(()=>[e(n,{label:"\u63CF\u8FF0",path:"description"},{default:a(()=>[e(d,{size:"small",placeholder:"\u8BF7\u8F93\u5165",type:"textarea",value:t.model.description,"onUpdate:value":l[10]||(l[10]=m=>t.model.description=m)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["show"])]),_:1},8,["show"])}const Xe=O(qe,[["render",Ve]]),Ye=H({components:{NLayout:K,NLayoutHeader:J,NLayoutContent:Z,NButton:L,NSpace:x,NwIcon:D,NTag:q,NInput:I,NInputGroup:$,NDrawer:Pe,SideTree:Ae,NForm:j,NFormItem:W,NSpin:B,NDrawerContent:Fe,ModalAction:We,NPopconfirm:X,ButtonAction:Xe,NLayoutSider:Q,OrgTree:De},setup(){const t=v([]),l=v(),y=v(),i=v(),h=v({}),b=G(),d=v(""),n=v("0"),p=v("root"),f=o=>{console.log(o,"row......."),n.value=o.id,p.value=o.orgName,N()},g=o=>{let r=o.id;Le(r).then(C=>{b.success("\u5220\u9664\u6210\u529F"),N()})},N=()=>{m.loading=!0,Y({deptId:n.value,searchName:_.value}).then(o=>{t.value=o.records,l.value.loadData(o.records),m.loading=!1})},_=()=>{l.value.commitProxy("query")},c=(o={})=>{y.value.sonFn(o)},w=(o={})=>{i.value.sonFn(o)},m=Te({rowId:"id",size:"mini",border:!0,height:"auto",align:null,loading:!1,columns:[{type:"seq",width:50,minWidth:50,fixed:"left"},{field:"materialsTypeName",title:"\u5927\u7C7B",showHeaderOverflow:!0,minWidth:200,fixed:"left"},{field:"projectName",title:"\u540D\u79F0",showHeaderOverflow:!0,minWidth:200,fixed:"left"},{field:"itemTime",title:"\u5E74\u4EFD",showHeaderOverflow:!0,minWidth:200},{field:"finishTime",title:"\u8981\u6C42\u5B8C\u6210\u65F6\u95F4",showHeaderOverflow:!0,minWidth:200},{field:"unitName",title:"\u7EC4\u957F\u5355\u4F4D",showHeaderOverflow:!0,minWidth:200},{field:"procurementMethodName",title:"\u91C7\u8D2D\u65B9\u5F0F",showHeaderOverflow:!0,minWidth:200},{field:"floatRange",title:"\u6D6E\u52A8\u8303\u56F4",showHeaderOverflow:!0,minWidth:200},{field:"pricingMechanism",title:"\u8C03\u4EF7\u673A\u5236",showHeaderOverflow:!0,minWidth:200},{field:"resultPublic",title:"\u7ED3\u679C\u516C\u544A",showHeaderOverflow:!0,minWidth:200},{field:"explanation",title:"\u4EF7\u683C\u8C03\u6574\u516C\u544A",showHeaderOverflow:!0,minWidth:200},{field:"postponePublic",title:"\u5EF6\u671F\u516C\u544A",showHeaderOverflow:!0,minWidth:200},{field:"others",title:"\u5176\u4ED6\u4E8B\u9879",showHeaderOverflow:!0,minWidth:200},{field:"currentProgressName",title:"\u5F53\u524D\u8FDB\u5C55",showHeaderOverflow:!0,minWidth:200},{field:"",title:"\u64CD\u4F5C",fixed:"right",showHeaderOverflow:!0,minWidth:200,width:"100px",slots:{default:({row:o})=>[F("div",null,F("a",{onClick:()=>o.menuType==2?w(o):c({...o}),style:"color:#4098fc;cursor: pointer;display:inline-block;"},"\u7F16\u8F91"),F(X,{"onPositive-click":r=>{g(o)},"positive-text":"\u786E\u5B9A","negative-text":"\u53D6\u6D88"},{trigger:()=>F("a",{style:"color:red;cursor: pointer;display:inline-block;margin-left:8px"},"\u5220\u9664"),default:()=>`\u662F\u5426\u5220\u9664\u5927\u5B97\u5546\u54C1${o.commodityItemName}\uFF1F`}),F("a",{onClick:()=>w({menuType:2,...h.value,parentFullName:o.parentFullName+"/"+o.menuName,parentName:o.menuName,parentFullId:o.parentFullId+"/"+o.id,parentId:o.id}),style:`${o.menuType==1?"display:inline-block":"display:none"};color:#4098fc;cursor: pointer;margin-left:15px`},"\u5173\u8054\u529F\u80FD"))]}}],pagerConfig:{pageSize:20},columnConfig:{resizable:!0},proxyConfig:{form:!0,seq:!0,props:{result:"result",total:"total"},ajax:{query:({page:o})=>new Promise(r=>{Y({pgtCustomName:d.value,page:{current:o.currentPage,size:o.pageSize}}).then(C=>{r({total:C.total,result:C.records})})})}}});return z(()=>{}),{sideTreeCallback:f,gridOptions:m,rightDatas:t,tableRef:l,appMessage:h,buttonlAction:i,modalAction:y,showAction:c,showButtonAction:w,getRightData:N,handDel:g,searchName:_,pgtCustomName:d,deptId:n,deptName:p}}}),Ke=T("span",null,null,-1);function Je(t,l,y,i,h,b){const d=s("n-space"),n=s("n-input"),p=s("n-form-item"),f=s("n-button"),g=s("n-form"),N=s("n-layout-header"),_=s("vxe-grid"),c=s("n-layout-content"),w=s("n-layout"),P=s("ModalAction"),m=s("ButtonAction");return R(),ie(de,null,[e(w,{class:"nw-layout-full"},{default:a(()=>[e(N,{class:"nw-layout-header"},{default:a(()=>[e(d,{size:5},{default:a(()=>[Ke]),_:1}),e(d,{size:5,style:{padding:"0 5px",position:"absolute"}},{default:a(()=>[e(g,{ref:"formRef",inline:"","label-placement":"left","label-align":"right","label-width":120,model:t.SearchForm,style:{height:"30px"}},{default:a(()=>[e(p,{label:"\u5927\u5B97\u5546\u54C1\u540D\u79F0",path:"commodityItemName"},{default:a(()=>[e(n,{placeholder:"\u5927\u5B97\u5546\u54C1\u540D\u79F0",value:t.commodityItemName,"onUpdate:value":l[0]||(l[0]=o=>t.commodityItemName=o)},null,8,["value"])]),_:1}),e(p,null,{default:a(()=>[e(f,{type:"info","attr-type":"button",style:{"margin-right":"5px"},onClick:l[1]||(l[1]=()=>{t.searchName()})},{default:a(()=>[U(" \u67E5\u8BE2 ")]),_:1}),e(f,{type:"warning","attr-type":"button",onClick:l[2]||(l[2]=()=>{t.pgtCustomName="",t.tableRef.loadData(t.rightDatas)})},{default:a(()=>[U(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(d,{size:5,style:{padding:"0 5px"}})]),_:1}),e(w,{"has-sider":"","content-style":"height: 100%"},{default:a(()=>[e(c,null,{default:a(()=>[e(_,se(t.gridOptions,{ref:"tableRef",class:"mytable-scrollbar"}),null,16)]),_:1})]),_:1})]),_:1}),e(P,{ref:"modalAction","onUpdate:callback":l[3]||(l[3]=()=>{t.getRightData()})},null,512),e(m,{ref:"buttonlAction","onUpdate:callback":l[4]||(l[4]=()=>{t.getRightData()})},null,512)],64)}const Qe=O(Ye,[["render",Je]]);Me(Qe).mount("#app");
