import{ae as M,al as L,am as Q,ar as j,aq as q,as as oe,ao as G,k as W,at as R,au as V,G as A,ap as H,H as K,an as Z,av as ie,r as p,a9 as X,B as T,_ as S,I as r,o as E,b as z,w as u,g as I,a as e,a8 as x,a6 as se,e as O,d as ee,m as le,N as te,E as de,M as re,h as me,ag as ue,aw as pe,ax as fe,j as ye,b7 as Ce,az as ve,b8 as Ne,ay as ae,W as Ue,a5 as ne,c as ce,F as _e,f as Y,aA as De,aB as Be,aC as Pe,p as Ee}from"./index.e51afe9d.js";import{N as he,a as be,M as ge,b as Ae,c as Oe,O as Ie}from"./index.9875855d.js";import{N as ze,a as He}from"./Step.fd93d305.js";import{N as we}from"./text.6614a830.js";import{N as Me}from"./InputNumber.9cc11044.js";import"./Radio.95abfb5b.js";import"./FormItemGridItem.d78d7d10.js";function Te(l){return M({url:"/supp/suppFillCommodity/getNewest",method:"get",data:l})}function J(l){return M({url:"/supp/suppPurchaseProgressLookup/list",method:"post",data:l})}function We(l){return M({url:"/supp/purchaseProgress",method:"post",data:l})}function ke(l){return M({url:"/supp/suppPurchaseProgressLookup",method:"put",data:l})}function Re(l){return M({url:`/supp/purchaseProgress/${l}`,method:"delete"})}function Se(l){return M({url:"/main/mdmOrg/list",method:"post",data:l})}const $e={components:{NLayout:L,NLayoutHeader:Q,NLayoutSider:j,NLayoutContent:q,NLayoutFooter:oe,NInputGroup:G,NInput:W,NSpin:R,NModal:V,NButton:A,NwIcon:H,NSwitch:K,NSpace:Z,NTree:ie},props:{rootName:{type:String,default:""},multiple:{type:Boolean,default:!1},value:{type:String,default:""}},emits:["callback"],setup(l,t){const _=p([]),o=p(!1),g=p(""),h=({option:m})=>T(T("div",null,T(H,{name:m.appType==2?m.appIcon:"icon-n-y-fenjifenlei",size:15}))),f=()=>{o.value=!0,Se({isDefault:0,status:1}).then(m=>{_.value=m,o.value=!1})};return X(()=>{f()}),{props:l,renderPrefix:h,getTreeList:f,pattern:g,tIsLoading:o,treeData:_,nodeProps:({option:m})=>({onClick(){t.emit("callback",m)},onContextmenu(s){optionsRef.value=[m],showDropdownRef.value=!0,xRef.value=s.clientX,yRef.value=s.clientY,console.log(s.clientX,s.clientY),s.preventDefault()}})}}};const Le={class:"questionHeader"};function je(l,t,_,o,g,h){const f=r("n-input"),m=r("n-tree"),s=r("n-spin"),n=r("n-space");return E(),z(n,{vertical:"",size:12},{default:u(()=>[I("div",Le,[e(f,{placeholder:"\u641C\u7D22",style:{},value:o.pattern,"onUpdate:value":t[0]||(t[0]=i=>o.pattern=i)},null,8,["value"])]),e(s,{show:o.tIsLoading},{default:u(()=>[e(m,{data:o.treeData,"children-field":"children","label-field":"orgName","key-field":"id","render-prefix":o.renderPrefix,"block-line":"",pattern:o.pattern,"virtual-scroll":"",class:"treeH","node-props":o.nodeProps},null,8,["data","render-prefix","pattern","node-props"])]),_:1},8,["show"])]),_:1})}const qe=S($e,[["render",je]]),Ge={components:{NLayout:L,NLayoutHeader:Q,NLayoutSider:j,NLayoutContent:q,NLayoutFooter:oe,NInputGroup:G,NInput:W,NSpin:R,NModal:V,NButton:A,NwIcon:H,NSwitch:K,NTreeSelect:x,NSpace:Z,NTree:ie},props:{value:{type:String,default:""}},emits:["update:value","UpdateValue"],setup(l,t){const _=p(!1),o=p([]),g=p([]),h=p([]),f=()=>{g.value=o.value.filter(s=>h.value.indexOf(s.id)>=0),console.log(g.value,"selected.value"),t.emit("callback",g.value),_.value=!1},m=p({rowId:"appId",rowKey:!1,height:"400px",size:"mini",showOverflow:!1,highlightHoverRow:!0,border:!0,data:o,columns:[{title:"\u539F\u6750\u6599",field:"commodityItemName"},{title:"\u5355\u4F4D",field:"commodityItemUnit"},{title:"\u64CD\u4F5C",width:80,slots:{default:({row:s})=>h.value.indexOf(s.id)>=0?[T(A,{size:"small",type:"primary",onClick:()=>{h.value.splice(h.value.indexOf(s.id),1)}},{default:()=>"\u5DF2\u9009\u62E9"})]:[T(A,{size:"small",type:"info",onClick:()=>{h.value.push(s.id)}},{default:()=>"\u9009\u62E9"})]}}]});return{props:l,visible:_,gridOption:m,selected:g,handleModalComplete:f,show(s=[]){g.value=s,h.value=s.map(n=>n.id),_.value=!0,Te({}).then(n=>{o.value=n.detailList.map(i=>({...i,productMix3:i.commodityItemName,expenditurePattern:i.commodityItemPrice}))})}}}},Ve=I("div",{class:"iconfont icon-bpmn-ditu"},null,-1),Ke=I("div",null," \u9009\u62E9\u7269\u8D44 ",-1),Xe={class:"nw-modal-action",style:{"text-align":"right"}};function Ye(l,t,_,o,g,h){const f=r("nw-icon"),m=r("vxe-grid"),s=r("n-button"),n=r("n-modal");return E(),z(n,{class:"nw-modal",show:o.visible,"onUpdate:show":t[1]||(t[1]=i=>o.visible=i),preset:"dialog",style:{width:"600px",padding:"0"},"show-icon":!0,"mask-closable":!0,closable:!0},{icon:u(()=>[Ve,e(f,{name:"icon-field",size:20,color:"rgb(103, 194, 58)"})]),header:u(()=>[Ke]),default:u(()=>[e(m,se({class:"nw-vxe-grid",ref:"gridFormRef"},o.gridOption),null,16),I("div",Xe,[e(s,{type:"info",size:"small",style:{"margin-right":"5px"},onClick:o.handleModalComplete},{default:u(()=>[O("\u786E\u5B9A")]),_:1},8,["onClick"]),e(s,{size:"small",onClick:t[0]||(t[0]=i=>o.visible=!1)},{default:u(()=>[O("\u53D6\u6D88")]),_:1})])]),_:1},8,["show"])}const Je=S(Ge,[["render",Ye]]),Qe=ee({components:{NModal:V,NInput:W,NForm:le,NFormItem:te,NGrid:de,NGridItem:re,NTreeSelect:x,NSelect:me,NButton:A,NSpin:R,NTag:ue,NImage:he,NText:we,NP:be,NwDic:pe,NwIcon:H,NwIconPick:fe,MenuPick:ge,NwPickPage:Ae,NSwitch:K,NInputNumber:Me,NDatePicker:ye,ChooseDept:Ce,NDrawer:ve,NLayout:L,NLayoutSider:j,NLayoutContent:q,NSteps:ze,NStep:He,NInputGroup:G,EmployeePickModal:Ne,materialsPick:Je},props:{},setup(l,t){const _=p(!1),o=p({}),g=p(),h=p(!1),f=p([]),m=ae(),s=p(1),n=p(null),i=p(),d=p(),F=p(!1),D=()=>{d.value.show(k.value)},N=w=>{k.value=w,ne(()=>{var c;(c=i.value)==null||c.reloadData(k.value)})},B=p([]),v=(w={},c)=>{J({}).then(C=>{let $={};C.map(P=>{$[P.fieldId]=P.isShow}),B.value=C,o.value=$,_.value=!0,console.log(o.value,"modelRef.valuemodelRef.valuemodelRef.value")})},k=p([]),b=w=>{o.value.valuecommodityItemName=k.value.filter(c=>c.value==w)[0].label,o.value.commodityItemUnit=k.value.filter(c=>c.value==w)[0].commodityItemUnit,o.value.sn=k.value.filter(c=>c.value==w)[0].sn},y=()=>{let w=[];if(o.value.projectLeader){let c=o.value.projectLeader.split(","),C=o.value.projectLeader.split(","),$=o.value.projectLeaderId.split(",");for(let P=0;P<c.length;P++)w.push({userNameCh:c[P],userName:C[P],id:$[P]});n.value.sonFn(w)}else n.value.sonFn(w)},U=w=>{o.value.projectLeader=w.map(c=>c.userNameCh).join(","),o.value.projectLeaderId=w.map(c=>c.id).join(",")},a=p({rowId:"rowId",rowKey:!1,keepSource:!1,height:"300px",size:"mini",showOverflow:!1,highlightHoverRow:!0,border:!0,data:k.value,editConfig:{trigger:"click",mode:"cell",showStatus:!0,autoClear:!1},columns:[{title:"\u4EA7\u54C1\u6784\u6210",field:"productMix3",showOverflow:"title",minWidth:200},{title:"\u8D39\u7528\u6784\u6210",field:"expenditurePattern",showOverflow:"title",minWidth:200,editRender:{},slots:{default:"expenditurePattern_default",edit:"expenditurePattern_edit"}}]});Ue(()=>s.value,w=>{ne(()=>{var c;(c=i.value)==null||c.reloadData(k.value)})}),X(()=>{});const Fe=p({commodityItemName:{required:!0,trigger:["focus","input"],message:"\u8BF7\u9009\u62E9\u5927\u5B97\u5546\u54C1\u540D\u79F0"},commodityItemPrice:{required:!0,trigger:["focus","input"],message:"\u8BF7\u8F93\u5165\u5927\u5B97\u5546\u54C1\u4EF7\u683C"},sn:{required:!0,trigger:["focus","input"],type:"number",message:"\u8BF7\u8F93\u5165\u6392\u5E8F"}});return{showModal:_,message:m,model:o,formRef:g,isLoading:h,current:s,rules:Fe,sonFn:v,dzsply:k,employeePickRef:n,selectUser:y,getUsers:U,basicDisabled:F,dzsplyChangeEvent:b,detailVxeGrid:i,detailListGridOption:a,materialsPickRef:d,selectMaterials:D,setMaterials:N,getFormMessage(w,c){o.value.formId=c.id,o.value.formUrl=c.pageUrl,o.value.formTargetUrl=c.targetUrl},platformDictCodes:f,onPositiveClick(){const w=ke;let c=B.value.map(C=>(C.isShow=o.value[C.fieldId],C));w(c).then(C=>{C&&(t.emit("update:callback"),_.value=!1)}).finally(C=>{h.value=!1})},onNegativeClick(){_.value=!1}}},methods:{}}),Ze={style:{padding:"0 5px 5px 0"}};function xe(l,t,_,o,g,h){const f=r("n-step"),m=r("n-steps"),s=r("n-layout-sider"),n=r("n-switch"),i=r("n-form-item"),d=r("n-grid-item"),F=r("n-grid"),D=r("n-form"),N=r("n-layout-content"),B=r("n-layout"),v=r("n-spin"),k=r("n-button"),b=r("n-modal"),y=r("EmployeePickModal"),U=r("materialsPick");return E(),ce(_e,null,[e(b,{show:l.showModal,"onUpdate:show":t[30]||(t[30]=a=>l.showModal=a),"mask-closable":!1,preset:"dialog",title:"\u5927\u5B97\u7269\u8D44\u539F\u6750\u6599\u4EF7\u683C\u516C\u793A\u5185\u5BB9\u8C03\u6574",content:"\u4F60\u786E\u8BA4","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",style:{width:"100%"},ref:"xmodal"},{action:u(()=>[I("div",Ze,[e(k,{size:"small",type:"default",style:{"margin-right":"5px"},onClick:t[29]||(t[29]=a=>l.showModal=!1)},{default:u(()=>[O("\u53D6\u6D88")]),_:1}),e(k,{size:"small",type:"info",onClick:l.onPositiveClick,disabled:l.btloading},{default:u(()=>[O("\u4FDD\u5B58")]),_:1},8,["onClick","disabled"])])]),default:u(()=>[e(v,{show:l.isLoading},{default:u(()=>[e(B,{"has-sider":""},{default:u(()=>[e(s,{"content-style":"padding: 24px;"},{default:u(()=>[e(m,{vertical:"",current:l.current,"onUpdate:current":t[0]||(t[0]=a=>l.current=a)},{default:u(()=>[e(f,{title:"\u57FA\u672C\u4FE1\u606F",description:"\u586B\u5199\u57FA\u672C\u4FE1\u606F"}),e(f,{title:"\u516C\u544A\u4FE1\u606F",description:"\u586B\u5199\u516C\u544A\u4FE1\u606F"}),e(f,{title:"\u76F8\u5173\u65F6\u95F4",description:"\u586B\u5199\u76F8\u5173\u65F6\u95F4\u4FE1\u606F"})]),_:1},8,["current"])]),_:1}),e(N,{"content-style":"padding: 24px;"},{default:u(()=>[e(D,{model:l.model,ref:"formRef","label-placement":"left","label-width":260,style:{height:"800px",overflow:"auto"},rules:l.rules},{default:u(()=>[l.current==1?(E(),z(F,{key:0,"x-gap":"8",cols:1},{default:u(()=>[e(d,null,{default:u(()=>[e(i,{label:"\u5E74\u4EFD",path:"itemTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.item_time,"onUpdate:value":t[1]||(t[1]=a=>l.model.item_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5927\u7C7B",path:"materialsTypeName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.materials_type_name,"onUpdate:value":t[2]||(t[2]=a=>l.model.materials_type_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u9879\u76EE\u540D\u79F0",path:"projectName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.project_name,"onUpdate:value":t[3]||(t[3]=a=>l.model.project_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u8981\u6C42\u5B8C\u6210\u65F6\u95F4",path:"finishTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.finish_time,"onUpdate:value":t[4]||(t[4]=a=>l.model.finish_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u7EC4\u957F\u5355\u4F4D",path:"unitName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.unit_name,"onUpdate:value":t[5]||(t[5]=a=>l.model.unit_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u91C7\u8D2D\u65B9\u5F0F",path:"procurementMethodName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.procurement_method_name,"onUpdate:value":t[6]||(t[6]=a=>l.model.procurement_method_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u6D6E\u52A8\u8303\u56F4(%)",path:"floatRange"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.float_range,"onUpdate:value":t[7]||(t[7]=a=>l.model.float_range=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u8C03\u4EF7\u673A\u5236",path:"pricingMechanism"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.pricing_mechanism,"onUpdate:value":t[8]||(t[8]=a=>l.model.pricing_mechanism=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})):Y("",!0),l.current==2?(E(),z(F,{key:1,"x-gap":"8",cols:1},{default:u(()=>[e(d,null,{default:u(()=>[e(i,{label:"\u7ED3\u679C\u516C\u544A",path:"resultPublic"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.result_public,"onUpdate:value":t[9]||(t[9]=a=>l.model.result_public=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u4EF7\u683C\u8C03\u6574\u516C\u544A",path:"explanation"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.explanation,"onUpdate:value":t[10]||(t[10]=a=>l.model.explanation=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5EF6\u671F\u516C\u544A",path:"postponePublic"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.postpone_public,"onUpdate:value":t[11]||(t[11]=a=>l.model.postpone_public=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5176\u4ED6\u4E8B\u9879",path:"others"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.others,"onUpdate:value":t[12]||(t[12]=a=>l.model.others=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})):Y("",!0),l.current==3?(E(),z(F,{key:2,"x-gap":"8",cols:1},{default:u(()=>[e(d,null,{default:u(()=>[e(i,{label:"\u9879\u76EE\u8D1F\u8D23\u4EBA",path:"projectName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.project_name,"onUpdate:value":t[13]||(t[13]=a=>l.model.project_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5F53\u524D\u8FDB\u5C55",path:"currentProgressName"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.current_progress_name,"onUpdate:value":t[14]||(t[14]=a=>l.model.current_progress_name=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"onePlatformSubmitTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.one_platform_submit_time,"onUpdate:value":t[15]||(t[15]=a=>l.model.one_platform_submit_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"onePlatformFinishTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.one_platform_finish_time,"onUpdate:value":t[16]||(t[16]=a=>l.model.one_platform_finish_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",path:"inviteBidsSubmitTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.invite_bids_submit_time,"onUpdate:value":t[17]||(t[17]=a=>l.model.invite_bids_submit_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",path:"inviteBidsFinishTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.invite_bids_finish_time,"onUpdate:value":t[18]||(t[18]=a=>l.model.invite_bids_finish_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u62DB\u6807\u6587\u4EF6\u786E\u8BA4\u65F6\u95F4",path:"inviteBidsConfirmTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.invite_bids_confirm_time,"onUpdate:value":t[19]||(t[19]=a=>l.model.invite_bids_confirm_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u62DB\u6807\u516C\u544A\u65F6\u95F4",path:"inviteBidsPublicTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.invite_bids_public_time,"onUpdate:value":t[20]||(t[20]=a=>l.model.invite_bids_public_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5F00\u6807\u65F6\u95F4",path:"tenderOpenTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.tender_open_time,"onUpdate:value":t[21]||(t[21]=a=>l.model.tender_open_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u62DB\u6807\u7ED3\u679C\u516C\u793A\u65F6\u95F4",path:"inviteBidsResultPublicTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.invite_bids_result_public_time,"onUpdate:value":t[22]||(t[22]=a=>l.model.invite_bids_result_public_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u62DB\u6807\u7ED3\u679C\u5B8C\u6210\u5BA1\u6279\u65F6\u95F4",path:"resultFinishTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.result_finish_time,"onUpdate:value":t[23]||(t[23]=a=>l.model.result_finish_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u8BC4\u5BA1\u62A5\u544A\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"assessSubmitTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.assess_submit_time,"onUpdate:value":t[24]||(t[24]=a=>l.model.assess_submit_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u8BC4\u5BA1\u62A5\u544A\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",path:"assessFinishTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.assess_finish_time,"onUpdate:value":t[25]||(t[25]=a=>l.model.assess_finish_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u7ED3\u679C\u516C\u544A\u65F6\u95F4",path:"resultPublicTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.result_public_time,"onUpdate:value":t[26]||(t[26]=a=>l.model.result_public_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u76EE\u5F55\u4E0A\u8F7D\u65F6\u95F4",path:"catalogUploadTime"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.catalog_upload_time,"onUpdate:value":t[27]||(t[27]=a=>l.model.catalog_upload_time=a)},null,8,["value"])]),_:1})]),_:1}),e(d,null,{default:u(()=>[e(i,{label:"\u5907\u6CE8",path:"explanation2"},{default:u(()=>[e(n,{"checked-value":1,"unchecked-value":0,value:l.model.explanation2,"onUpdate:value":t[28]||(t[28]=a=>l.model.explanation2=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})):Y("",!0)]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1},8,["show"])]),_:1},8,["show"]),e(y,{ref:"employeePickRef","onUpdate:callback":l.getUsers,multiple:!0},null,8,["onUpdate:callback"]),e(U,{ref:"materialsPickRef",onCallback:l.setMaterials},null,8,["onCallback"])],64)}const el=S(Qe,[["render",xe]]),ll=ee({components:{NModal:V,NInput:W,NForm:le,NFormItem:te,NGrid:de,NGridItem:re,NTreeSelect:x,NSelect:me,NButton:A,NSpin:R,NTag:ue,NImage:he,NText:we,NP:be,NwDic:pe,NwIcon:H,NwIconPick:fe,MenuPick:ge,NwPickCpts:Oe,NSwitch:K},props:{},setup(l,t){const _=p(!1),o=p({}),g=p(),h=p(!1),f=p([]),m=ae(),s=(n={})=>{_.value=!0,o.value={...n}};return X(()=>{}),{showModal:_,message:m,model:o,formRef:g,isLoading:h,sonFn:s,platformDictCodes:f,onPositiveClick(){const n=o.value.id?ke:We;g.value.validate(i=>{i||(h.value=!0,n(o.value).then(d=>{d&&(t.emit("update:callback"),_.value=!1)}).finally(d=>{h.value=!1}))})},onNegativeClick(){_.value=!1}}},methods:{}}),tl={style:{padding:"0 5px 5px 0"}};function ul(l,t,_,o,g,h){const f=r("n-input"),m=r("n-form-item"),s=r("n-grid-item"),n=r("n-select"),i=r("nw-pick-cpts"),d=r("n-grid"),F=r("n-form"),D=r("n-spin"),N=r("n-button"),B=r("n-modal");return E(),z(B,{show:l.showModal,"onUpdate:show":t[12]||(t[12]=v=>l.showModal=v),"mask-closable":!1,preset:"dialog",title:"\u529F\u80FD\u7EF4\u62A4",content:"\u4F60\u786E\u8BA4","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",style:{width:"800px"},ref:"xmodal"},{action:u(()=>[I("div",tl,[e(N,{size:"small",type:"default",style:{"margin-right":"5px"},onClick:t[11]||(t[11]=v=>l.showModal=!1)},{default:u(()=>[O("\u53D6\u6D88")]),_:1}),e(N,{size:"small",type:"info",onClick:l.onPositiveClick,disabled:l.btloading},{default:u(()=>[O("\u4FDD\u5B58")]),_:1},8,["onClick","disabled"])])]),default:u(()=>[e(D,{show:l.isLoading},{default:u(()=>[e(F,{model:l.model,ref:"formRef",rules:l.rules},{default:u(()=>[e(d,{"x-gap":"8",cols:2},{default:u(()=>[e(s,null,{default:u(()=>[e(m,{label:"\u6309\u94AE\u540D\u79F0",path:"menuName"},{default:u(()=>[e(f,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:l.model.menuName,"onUpdate:value":t[0]||(t[0]=v=>l.model.menuName=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u6309\u94AE\u7F16\u7801",path:"menuCode",disabled:""},{default:u(()=>[e(f,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:l.model.menuCode,"onUpdate:value":t[1]||(t[1]=v=>l.model.menuCode=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u6240\u5C5E\u83DC\u5355",path:"parentFullName"},{default:u(()=>[e(f,{size:"small",disabled:"",placeholder:"\u8BF7\u8F93\u5165",value:l.model.parentFullName,"onUpdate:value":t[2]||(t[2]=v=>l.model.parentFullName=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u9875\u9762\u540D\u79F0",path:"parentName"},{default:u(()=>[e(f,{size:"small",disabled:"",placeholder:"\u8BF7\u8F93\u5165",value:l.model.parentName,"onUpdate:value":t[3]||(t[3]=v=>l.model.parentName=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u8868\u5355\u6309\u94AEcode",path:"buttonCode"},{default:u(()=>[e(f,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:l.model.buttonCode,"onUpdate:value":t[4]||(t[4]=v=>l.model.buttonCode=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u6392\u5E8F",path:"sort"},{default:u(()=>[e(f,{size:"small",placeholder:"\u8BF7\u8F93\u5165",value:l.model.sort,"onUpdate:value":t[5]||(t[5]=v=>l.model.sort=v)},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u6309\u94AE\u7C7B\u578B",path:"buttonType"},{default:u(()=>[e(n,{value:l.model.buttonType,"onUpdate:value":t[6]||(t[6]=v=>l.model.buttonType=v),placeholder:"\u8BF7\u9009\u62E9\u6309\u94AE\u7C7B\u578B",options:[{value:"default",label:"default"},{value:"tertiary",label:"tertiary"},{value:"primary",label:"primary"},{value:"success",label:"success"},{value:"info",label:"info"},{value:"warning",label:"warning"},{value:"error",label:"error"}]},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u6309\u94AE\u5C3A\u5BF8",path:"buttonSize"},{default:u(()=>[e(n,{value:l.model.buttonSize,"onUpdate:value":t[7]||(t[7]=v=>l.model.buttonSize=v),placeholder:"\u8BF7\u9009\u62E9\u6309\u94AE\u5C3A\u5BF8",options:[{value:"tiny",label:"tiny"},{value:"small",label:"small"},{value:"medium",label:"medium"},{value:"large",label:"large"}]},null,8,["value"])]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(m,{label:"\u5173\u8054\u529F\u80FD",path:"functionId"},{default:u(()=>[e(i,{fullName:l.model.functionName,"onUpdate:fullName":t[8]||(t[8]=v=>l.model.functionName=v),value:l.model.functionId,"onUpdate:value":t[9]||(t[9]=v=>l.model.functionId=v)},null,8,["fullName","value"])]),_:1})]),_:1}),e(s,{span:24},{default:u(()=>[e(m,{label:"\u63CF\u8FF0",path:"description"},{default:u(()=>[e(f,{size:"small",placeholder:"\u8BF7\u8F93\u5165",type:"textarea",value:l.model.description,"onUpdate:value":t[10]||(t[10]=v=>l.model.description=v)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["show"])]),_:1},8,["show"])}const al=S(ll,[["render",ul]]),nl=ee({components:{NLayout:L,NLayoutHeader:Q,NLayoutContent:q,NButton:A,NSpace:Z,NwIcon:H,NTag:ue,NInput:W,NInputGroup:G,NDrawer:ve,SideTree:qe,NForm:le,NFormItem:te,NSpin:R,NDrawerContent:De,ModalAction:el,NPopconfirm:Be,ButtonAction:al,NLayoutSider:j,OrgTree:Ie},setup(){const l=p([]),t=p(),_=p(),o=p(),g=p({}),h=ae(),f=p(""),m=p("0"),s=p("root"),n=b=>{console.log(b,"row......."),m.value=b.id,s.value=b.orgName,d()},i=b=>{let y=b.id;Re(y).then(U=>{h.success("\u5220\u9664\u6210\u529F"),d()})},d=()=>{k.loading=!0,J({deptId:m.value,searchName:F.value}).then(b=>{l.value=b.records,t.value.loadData(b.records),k.loading=!1})},F=()=>{t.value.commitProxy("query")},D=(b={},y=1)=>{_.value.sonFn(b,y)},N=(b={})=>{o.value.sonFn(b)},B=b=>{let y=[{}];return b.map(U=>{y[0][U.fieldId]=U.isShow==1?"\u662F":"\u5426"}),y},k=Pe({rowId:"id",size:"mini",border:!0,height:"auto",align:null,loading:!1,columns:[{field:"item_time",title:"\u5E74\u4EFD",showHeaderOverflow:!0,minWidth:100},{field:"materials_type_name",title:"\u5927\u7C7B",showHeaderOverflow:!0,minWidth:100,fixed:"left"},{field:"project_name",title:"\u9879\u76EE\u540D\u79F0",showHeaderOverflow:!0,minWidth:100,fixed:"left"},{field:"finish_time",title:"\u8981\u6C42\u5B8C\u6210\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"unit_name",title:"\u7EC4\u957F\u5355\u4F4D",showHeaderOverflow:!0,minWidth:100},{field:"procurement_method_name",title:"\u91C7\u8D2D\u65B9\u5F0F",showHeaderOverflow:!0,minWidth:100},{field:"float_range",title:"\u6D6E\u52A8\u8303\u56F4",showHeaderOverflow:!0,minWidth:100},{field:"pricing_mechanism",title:"\u8C03\u4EF7\u673A\u5236",showHeaderOverflow:!0,minWidth:100},{field:"result_public",title:"\u7ED3\u679C\u516C\u544A",showHeaderOverflow:!0,minWidth:100},{field:"explanation",title:"\u4EF7\u683C\u8C03\u6574\u516C\u544A",showHeaderOverflow:!0,minWidth:100},{field:"postpone_public",title:"\u5EF6\u671F\u516C\u544A",showHeaderOverflow:!0,minWidth:100},{field:"others",title:"\u5176\u4ED6\u4E8B\u9879",showHeaderOverflow:!0,minWidth:100},{field:"project_name",title:"\u9879\u76EE\u8D1F\u8D23\u4EBA",showHeaderOverflow:!0,minWidth:100},{field:"current_progress_name",title:"\u5F53\u524D\u8FDB\u5C55",showHeaderOverflow:!0,minWidth:100},{field:"one_platform_submit_time",title:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"one_platform_finish_time",title:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"invite_bids_submit_time",title:"\u65B9\u6848\u63D0\u4EA4\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"invite_bids_finish_time",title:"\u65B9\u6848\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u62DB\u6807\u7BA1\u7406\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"invite_bids_confirm_time",title:"\u62DB\u6807\u6587\u4EF6\u786E\u8BA4\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"invite_bids_public_time",title:"\u62DB\u6807\u516C\u544A\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"tender_open_time",title:"\u5F00\u6807\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"invite_bids_result_public_time",title:"\u62DB\u6807\u7ED3\u679C\u516C\u793A\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"result_finish_time",title:"\u62DB\u6807\u7ED3\u679C\u5B8C\u6210\u5BA1\u6279\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"assess_submit_time",title:"\u8BC4\u5BA1\u62A5\u544A\u63D0\u4EA4\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"assess_finish_time",title:"\u8BC4\u5BA1\u62A5\u544A\u5BA1\u6279\u5B8C\u6210\u65F6\u95F4\uFF08\u4E00\u4F53\u5316\u5E73\u53F0\uFF09",showHeaderOverflow:!0,minWidth:100},{field:"result_public_time",title:"\u7ED3\u679C\u516C\u544A\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"catalog_upload_time",title:"\u76EE\u5F55\u4E0A\u8F7D\u65F6\u95F4",showHeaderOverflow:!0,minWidth:100},{field:"explanation2",title:"\u5907\u6CE8",showHeaderOverflow:!0,minWidth:100}],pagerConfig:{pageSize:20},columnConfig:{resizable:!0},proxyConfig:{form:!0,seq:!0,props:{result:"result",total:"total"},ajax:{query:({page:b})=>new Promise(y=>{J({pgtCustomName:f.value,page:{current:b.currentPage,size:b.pageSize}}).then(U=>{y({total:U.total,result:B(U)})})})}}});return X(()=>{}),{sideTreeCallback:n,gridOptions:k,rightDatas:l,tableRef:t,appMessage:g,buttonlAction:o,modalAction:_,showAction:D,showButtonAction:N,getRightData:d,handDel:i,searchName:F,pgtCustomName:f,deptId:m,deptName:s}}}),ol=I("span",null,null,-1);function il(l,t,_,o,g,h){const f=r("n-space"),m=r("nw-icon"),s=r("n-button"),n=r("n-layout-header"),i=r("vxe-grid"),d=r("n-layout-content"),F=r("n-layout"),D=r("ModalAction"),N=r("ButtonAction");return E(),ce(_e,null,[e(F,{class:"nw-layout-full"},{default:u(()=>[e(n,{class:"nw-layout-header"},{default:u(()=>[e(f,{size:5},{default:u(()=>[ol]),_:1}),e(f,{size:5,style:{padding:"0 5px",position:"absolute"}}),e(f,{size:5,style:{padding:"0 5px"}},{default:u(()=>[e(s,{type:"primary",onClick:t[0]||(t[0]=B=>l.showAction([],1))},{icon:u(()=>[e(m,{name:"icon-n-y-add",size:14})]),default:u(()=>[O(" \u4FEE\u6539 ")]),_:1})]),_:1})]),_:1}),e(F,{"has-sider":"","content-style":"height: 100%"},{default:u(()=>[e(d,null,{default:u(()=>[e(i,se(l.gridOptions,{ref:"tableRef",class:"mytable-scrollbar"}),null,16)]),_:1})]),_:1})]),_:1}),e(D,{ref:"modalAction","onUpdate:callback":t[1]||(t[1]=()=>{l.getRightData()})},null,512),e(N,{ref:"buttonlAction","onUpdate:callback":t[2]||(t[2]=()=>{l.getRightData()})},null,512)],64)}const sl=S(nl,[["render",il]]);Ee(sl).mount("#app");
